

    <!DOCTYPE html>
<html class="">

        
<head>
    <title>Optimal price-based control of heterogeneous... | F1000Research</title>
    <meta charset="utf-8">
    <!--<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>-->
    <!--<meta lang="$locale">-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="9-QVycOO2_ob3Z9QzRmXv2CF08A9oyYXqWyTiVdKPlU" />
    <!-- This is commented out to fix display problems on mobile devices.
    We may use it again once we implement a responsive design that supports native device resolutions.
    <meta name="viewport" content="width=device-width"> -->

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



    <link rel="alternate" title="Recent articles published in F1000Research" href="/rss" type="application/rss+xml">
            <link rel="alternate" type="application/pdf" title="PDF" href="https://f1000research.com/articles/8-1619/pdf"/>
        <link rel="canonical" href="https://f1000research.com/articles/8-1619" />
    
            <meta name="description" content="Read the original article in full on F1000Research: Optimal price-based control of heterogeneous thermostatically controlled loads under uncertainty using LSTM networks and genetic algorithms" />
    
            <meta name="og:title" content="F1000Research Article: Optimal price-based control of heterogeneous thermostatically controlled loads under uncertainty using LSTM networks and genetic algorithms.">
            <meta name="og:description" content="Read the latest article version by Taha Abdelhalim Nakabi, Pekka Toivanen, at F1000Research.">
            <meta name="og:image" content="/img/sharing/og_research.png">
            <meta name="version-id" content="22445">
            <meta name="article-id" content="20421">
            <meta name="dc.title" content="Optimal price-based control of heterogeneous thermostatically controlled loads under uncertainty using LSTM networks and genetic algorithms">
            <meta name="dc.description" content="In this paper, we consider the problem of thermostatically controlled load (TCL) control through dynamic electricity prices, under partial observability of the environment and uncertainty of the control response. The problem is formulated as a Markov decision process where an agent must find a near-optimal pricing scheme using partial observations of the state and action. We propose a long-short-term memory (LSTM) network to learn the individual behaviors of TCL units. We use the aggregated information to predict the response of the TCL cluster to a pricing policy. We use this prediction model in a genetic algorithm to find the best prices in terms of profit maximization in an energy arbitrage operation. The simulation results show that the proposed method offers a profit equal to 96% of the theoretical optimal solution.">
            <meta name="dc.subject" content="Artificial intelligence, Artificial neural networks, Customer behavior learning, Demand response programs, Energy arbitrage, LSTM, Partial observability, Price elasticity of demand, Profit maximization, Smart grid, thermostatically controlled loads.">
            <meta name="dc.creator" content="Nakabi, Taha Abdelhalim">
            <meta name="dc.creator" content="Toivanen, Pekka">
            <meta name="dc.date" content="2019/09/10">
            <meta name="dc.identifier" content="doi:10.12688/f1000research.20421.1">
            <meta name="dc.source" content="F1000Research 2019 8:1619">
            <meta name="dc.format" content="text/html">
            <meta name="dc.language" content="en">
            <meta name="dc.publisher" content="F1000 Research Limited">
            <meta name="dc.rights" content="https://creativecommons.org/licenses/by/3.0/igo/">
            <meta name="dc.type" content="text">
            <meta name="prism.keyword" content="Artificial intelligence">
            <meta name="prism.keyword" content="Artificial neural networks">
            <meta name="prism.keyword" content="Customer behavior learning">
            <meta name="prism.keyword" content="Demand response programs">
            <meta name="prism.keyword" content="Energy arbitrage">
            <meta name="prism.keyword" content="LSTM">
            <meta name="prism.keyword" content="Partial observability">
            <meta name="prism.keyword" content="Price elasticity of demand">
            <meta name="prism.keyword" content="Profit maximization">
            <meta name="prism.keyword" content="Smart grid">
            <meta name="prism.keyword" content="thermostatically controlled loads.">
            <meta name="prism.publication.Name" content="F1000Research">
            <meta name="prism.publicationDate" content="2019/09/10">
            <meta name="prism.volume" content="8">
            <meta name="prism.number" content="1619">
            <meta name="prism.versionIdentifier" content="1">
            <meta name="prism.doi" content="10.12688/f1000research.20421.1">
            <meta name="prism.url" content="https://f1000research.com/articles/8-1619">
            <meta name="citation_title" content="Optimal price-based control of heterogeneous thermostatically controlled loads under uncertainty using LSTM networks and genetic algorithms">
            <meta name="citation_abstract" content="In this paper, we consider the problem of thermostatically controlled load (TCL) control through dynamic electricity prices, under partial observability of the environment and uncertainty of the control response. The problem is formulated as a Markov decision process where an agent must find a near-optimal pricing scheme using partial observations of the state and action. We propose a long-short-term memory (LSTM) network to learn the individual behaviors of TCL units. We use the aggregated information to predict the response of the TCL cluster to a pricing policy. We use this prediction model in a genetic algorithm to find the best prices in terms of profit maximization in an energy arbitrage operation. The simulation results show that the proposed method offers a profit equal to 96% of the theoretical optimal solution.">
            <meta name="citation_description" content="In this paper, we consider the problem of thermostatically controlled load (TCL) control through dynamic electricity prices, under partial observability of the environment and uncertainty of the control response. The problem is formulated as a Markov decision process where an agent must find a near-optimal pricing scheme using partial observations of the state and action. We propose a long-short-term memory (LSTM) network to learn the individual behaviors of TCL units. We use the aggregated information to predict the response of the TCL cluster to a pricing policy. We use this prediction model in a genetic algorithm to find the best prices in terms of profit maximization in an energy arbitrage operation. The simulation results show that the proposed method offers a profit equal to 96% of the theoretical optimal solution.">
            <meta name="citation_keywords" content="Artificial intelligence, Artificial neural networks, Customer behavior learning, Demand response programs, Energy arbitrage, LSTM, Partial observability, Price elasticity of demand, Profit maximization, Smart grid, thermostatically controlled loads.">
            <meta name="citation_journal_title" content="F1000Research">
            <meta name="citation_author" content="Taha Abdelhalim Nakabi">
            <meta name="citation_author_institution" content="School of Computing, University of Eastern Finland, Kuopio, 70211, Finland">
            <meta name="citation_author" content="Pekka Toivanen">
            <meta name="citation_author_institution" content="School of Computing, University of Eastern Finland, Kuopio, 70211, Finland">
            <meta name="citation_publication_date" content="2019/09/10">
            <meta name="citation_volume" content="8">
            <meta name="citation_publication_number" content="1619">
            <meta name="citation_version_number" content="1">
            <meta name="citation_doi" content="10.12688/f1000research.20421.1">
            <meta name="citation_firstpage" content="1619">
            <meta name="citation_pdf_url" content="https://f1000research.com/articles/8-1619/v1/pdf">
    

    
    <link href="/img/favicon-research.ico" rel="shortcut icon" type="image/ico">
    <link href="/img/favicon-research.ico" rel="icon" type="image/ico">

        <link rel="stylesheet" href="/1597255280893/css/mdl/material-design-lite.css" type="text/css" media="all" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/2.2.43/css/materialdesignicons.min.css" />

        
            
    <link rel="stylesheet" href="/1597255280893/css/F1000Research.css" type="text/css" media="all" />
    <link rel="stylesheet" href="/css/F1000ResearchFontIcons/F1000ResearchFontIcons.css" type="text/css" media="all" />
    <link rel="stylesheet" href="/css/F1000ResearchFontIcons/animation.css" type="text/css" media="all" />

        <!--[if IE 7]><link rel="stylesheet" href="/css/F1000ResearchFontIcons/F1000ResearchFontIcons-ie7.css" media="all" /><![endif]-->

                    <script>dataLayer = [];</script>
        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-54Z2SBK');</script>
        <!-- End Google Tag Manager -->
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="/js/vendor/jquery-1.8.1.min.js"><\/script>')</script>
    <script src="/1597255280893/js/vendor/modernizr-2.6.1-respond-1.1.0.min.js"></script>
    <script src="/1597255280893/js/shared_scripts/sticky.js"></script>
    <script src="/1597255280893/js/shared_scripts/helpers.js"></script>
    <script src="/1597255280893/js/shared_scripts/menu.js"></script>
    <script src="/1597255280893/js/shared_scripts/navbar.js"></script>
    <script src="/1597255280893/js/shared_scripts/platforms.js"></script>
    <script src="/1597255280893/js/shared_scripts/object-polyfills.js"></script>
            <script src="/1597255280893/js/vendor/lodash.min.js"></script>
        <script>CKEDITOR_BASEPATH='https://f1000research.com/js/ckeditor/'</script>
    <script src="https://f1000researchdata.s3-eu-west-1.amazonaws.com/js/plugins.js"></script>
    <script src="/1597255280893/js/shared_scripts/helpers.js"></script>
    <script src="/1597255280893/js/app/research.js"></script>
    <script>window.reactTheme = 'research';</script>
    <script src="/1597255280893/js/public/bundle.js"></script>

    <script src="/1597255280893/js/app/research.ui.js"></script>
    <script src="/1597255280893/js/app/login.js"></script>
    <script src="/1597255280893/js/app/main.js"></script>
    <script src="/1597255280893/js/app/js-date-format.min.js"></script>
    <script src="/1597255280893/js/app/search.js"></script>
    <script src="/1597255280893/js/app/cookies_warning.js"></script>
    <script src="/1597255280893/js/mdl/mdl.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
                <script src="https://f1000researchdata.s3-eu-west-1.amazonaws.com/js/ckeditor.js"></script>
            <script src="/js/ckeditor/adapters/jquery.js"></script>
                <script src="/js/article/article_scrolling_module.js"></script>
            <script src="/js/article/article_stats.js"></script>
            <script src="/js/article/article.js"></script>
            <script src="/js/shared_scripts/referee_timeline_pagination.js"></script>
            <script src="/js/app/text_editor_controller.js"></script>
            <script src="//s7.addthis.com/js/250/addthis_widget.js#pubid=ra-503e5e99593dc42c"></script>
            <script src="/js/article/article_metrics.js"></script>
        
                                                                            <script>
            if (window.location.hash == '#_=_'){
                window.location = window.location.href.split('#')[0]
            }
        </script>

                    
        
    <!-- pixelId: 1641728616063202 :: assetPixelId: 6034867600215 :: funderPixelId:  -->

            <!-- Facebook pixel code (merged with EP GTM code) -->
        <script>
            !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function()

            {n.callMethod? n.callMethod.apply(n,arguments):n.queue.push(arguments)}
            ;if(!f._fbq)f._fbq=n;
            n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
            t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
            document,'script','https://connect.facebook.net/en_US/fbevents.js');

            fbq('init', '1641728616063202');

            
            fbq('track', "PixelInitialized", {});
        </script>

        <noscript><img height="1" width="1" style="display:none"
            src="https://www.facebook.com/tr?id=1641728616063202&noscript=1&amp;ev=PixelInitialized"
        /></noscript>
        <!-- End Facebook Pixel Code -->
    
                <script>
            (function(h,o,t,j,a,r){
                h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
                h._hjSettings={hjid:917825,hjsv:6};
                a=o.getElementsByTagName('head')[0];
                r=o.createElement('script');r.async=1;
                r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
                a.appendChild(r);
            })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
        </script>
    
</head>
<body  class="o-page-container no-js p-article o-layout-reset   ">

    
                            <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-54Z2SBK"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
        <!-- End Google Tag Manager (noscript) -->
    
        
    <div class="o-page">

        <div id="notify-container"></div>
        <div id="pageWarning"></div>
        <div id="pageMessage"></div>
        <div id="pageFooterMessage"></div>

                                <div id="f1r-ga-data" data-name="f1r-ga-data" class="f1r-ga-data"
                data-user-registered="false"
                data-user-module=""
                data-current-path=""
                data-location=""
                data-website="F1000Research"
                data-websiteDisplayName="F1000Research">
            </div>
        
                
        
        <div class="header-wrapper   js-navbar-space ">
                            


    










        
                            
    
            



<nav class="c-navbar js-navbar js-mini-nav js-sticky c-navbar--js-sticky c-navbar--userSite c-navbar__platform-bgcolor  c-navbar--bg-f1000research ">

    <div class="c-navbar__content">

                                <div class="c-navbar__extras">
            <div class="o-wrapper">
                <div class="o-actions o-actions--middle c-navbar__extras-row">
                    <div class="o-actions__primary">
                        
                                            </div>
                                    </div>
            </div>
        </div>

        <div class="o-wrapper t-inverted js-sticky-start">

            <div class="c-navbar__branding-row">
                <div class="c-navbar__row">


                                        
                    <div class="c-navbar__primary u-mr--2">

                                                                                                                                                                                                    <a href="/" class="c-navbar__branding u-ib u-middle"   data-test-id="nav_branding"  >
                                <img class="u-ib u-middle" src="/img/research/F1000Research_white_solid.svg" alt="F1000Research">
                            </a>
                                            </div>

                    <div class="c-navbar__secondary c-navbar__row">


                                                
                                                    <form action="/search" class="-navbar__secondary u-mr--2 c-search-form js-search-form u-hide u-show@navbar">
                                <label for="searchInput" class="c-search-form__label _mdl-layout">
                                    <input name="q" type="search" class="c-search-form__input" id="searchInput" placeholder="Search">
                                    <button type="submit" class="c-search-form__submit mdl-button mdl-js-button mdl-button--icon"><i class="material-icons">search</i></button>
                                </label>
                            </form>
                        
                                                
                                                    <div class="c-navbar__primary u-hide u-show@navbar">
                                <div class="_mdl-layout c-navbar__cta">
                                    <a class="mdl-button mdl-js-button mdl-button--raised mdl-button--no-shadow mdl-button--multi-line mdl-js-ripple-effect mdl-button--inverted c-navbar__submit" href="/for-authors/publish-your-research"   data-test-id="nav_submit_research"  ><i class="material-icons">file_upload</i>Submit your research</a>
                                </div>
                            </div>
                        

                                                
                        <span class="u-hide@navbar _mdl-layout u-nowrap">

                                                            <button type="button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon c-navbar__toggle c-navbar__toggle--menu js-navbar-toggle" data-focus="#navbar_mob_search_input" data-toggle="navbarMenu" data-target="navbarMenu" aria-controls="navbarMenu" aria-expanded="false" aria-label="Toggle navigation"   data-test-id="nav_menu_search_mob"  ><i class="material-icons">search</i></button>
                            
                                                            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-button--multi-line c-navbar__toggle c-navbar__toggle--menu js-navbar-toggle" type="button" data-toggle="navbarMenu" data-target="navbarMenu" aria-controls="navbarMenu" aria-expanded="false" aria-label="Toggle navigation"   data-test-id="nav_menu_toggle_mob"  >
                                    <i class="material-icons c-navbar__toggle-open">menu</i>
                                    <i class="material-icons c-navbar__toggle-close">close</i>
                                </button>
                                                    </span>
                    </div>

                </div>
            </div>

                        
                            <div class="c-navbar__menu-row js-navbar-block is-collapsed" id="navbarMenu">

                                                                                                                                                
                                                                    
                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                            

                                                                
                                                                                                                                                                                                                                
                                            
                    <div class="c-navbar__menu-row-content">

                                                                            <div class="u-hide@navbar c-navbar__menu-bar-spacing">
                                <form action="/search" class="c-search-form js-search-form">
                                    <label for="navbar_mob_search_input" class="c-search-form__label _mdl-layout">
                                        <input id="navbar_mob_search_input" name="q" type="search" class="c-search-form__input" placeholder="Search">
                                        <button type="submit" class="c-search-form__submit mdl-button mdl-js-button mdl-button--icon"><i class="material-icons">search</i></button>
                                    </label>
                                </form>
                            </div>
                        
                        <div class="o-actions o-actions--middle">

                            <div class="o-actions__primary">

                                                                
    <ul class="c-menubar c-navbar__menu-bar js-main-menu"   id="main-menu"   role="menubar" aria-label="Main Navigation"  data-menu-group="navbar" >

        
            
                                                                
                                
                                
                                    <li role="none"
                        data-index="0"
                        class="c-menubar__item js-menu-item  c-navbar__menu-bar-item
                                                              ">

                        <a href="/browse/articles" class="c-navbar__menu-bar-link js-menu-link " role="menuitem"
                                                                                    tabindex="0"
                              data-test-id="nav_browse"                              >Browse</a>

                                            </li>
                
            
        
            
                                                                
                
                                
                                    <li role="none"
                        data-index="1"
                        class="c-menubar__item js-menu-item  c-navbar__menu-bar-item
                                                              ">

                        <a href="/gateways" class="c-navbar__menu-bar-link js-menu-link " role="menuitem"
                                                                                    tabindex="-1"
                              data-test-id="nav_gatewaysViewAndBrowse"                              >Gateways & Collections</a>

                                            </li>
                
            
        
            
                                                                
                
                                
                                    <li role="none"
                        data-index="2"
                        class="c-menubar__item js-menu-item  c-navbar__menu-bar-item
                                                               c-menubar__item--selected c-navbar__menu-bar-item--parent ">

                        <a href="#" class="c-navbar__menu-bar-link js-menu-link " role="menuitem"
                                                         aria-haspopup="true" aria-expanded="false"                             tabindex="-1"
                              data-test-id="nav_for-authors"                              >How to Publish</a>

                                                    
    <ul class="c-menu js-menu
                is-collapsed                c-menubar__menu c-navbar__menu"
                  role="menu"
        aria-label="How to Publish">

        
            
                                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_submit-manuscript"                      href="/for-authors/publish-your-research"
                    role="menuitem"
                    tabindex="0">Submit your Research</a>

                </li>

                    
            
                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_my-submissions"                      href="/for-authors/my-submissions"
                    role="menuitem"
                    tabindex="-1">My Submissions</a>

                </li>

                    
            
                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_article-guidelines"                      href="/for-authors/article-guidelines"
                    role="menuitem"
                    tabindex="-1">Article Guidelines</a>

                </li>

                    
            
                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_article-guidelines-new-versions"                      href="/for-authors/article-guidelines-new-versions"
                    role="menuitem"
                    tabindex="-1">Article Guidelines (New Versions)</a>

                </li>

                    
            
                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_data-guidelines"                      href="/for-authors/data-guidelines"
                    role="menuitem"
                    tabindex="-1">Data Guidelines</a>

                </li>

                    
            
                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_asset-guidelines"                      href="/for-authors/posters-and-slides-guidelines"
                    role="menuitem"
                    tabindex="-1">Posters and Slides Guidelines</a>

                </li>

                    
            
                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_document-guidelines"                      href="/for-authors/document-guidelines"
                    role="menuitem"
                    tabindex="-1">Document Guidelines</a>

                </li>

                    
            
                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_article-processing-charges"                      href="/for-authors/article-processing-charges"
                    role="menuitem"
                    tabindex="-1">Article Processing Charges</a>

                </li>

                    
            
                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_finding-referees"                      href="/for-authors/tips-for-finding-referees"
                    role="menuitem"
                    tabindex="-1">Finding Article Reviewers</a>

                </li>

                        </ul>
                                            </li>
                
            
        
            
                                                                
                
                                
                                    <li role="none"
                        data-index="3"
                        class="c-menubar__item js-menu-item  c-navbar__menu-bar-item
                                                               c-menubar__item--selected c-navbar__menu-bar-item--parent ">

                        <a href="#" class="c-navbar__menu-bar-link js-menu-link " role="menuitem"
                                                         aria-haspopup="true" aria-expanded="false"                             tabindex="-1"
                              data-test-id="nav_about-contact"                              >About</a>

                                                    
    <ul class="c-menu js-menu
                is-collapsed                c-menubar__menu c-navbar__menu"
                  role="menu"
        aria-label="About">

        
            
                                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_about-page"                      href="/about"
                    role="menuitem"
                    tabindex="0">How it Works</a>

                </li>

                    
            
                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_referee-guidelines"                      href="/for-referees/guidelines"
                    role="menuitem"
                    tabindex="-1">For Reviewers</a>

                </li>

                    
            
                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_advisoryPanel"                      href="/advisors"
                    role="menuitem"
                    tabindex="-1">Our Advisors</a>

                </li>

                    
            
                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_policy-page"                      href="/about/policies"
                    role="menuitem"
                    tabindex="-1">Policies</a>

                </li>

                    
            
                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_glossary-page"                      href="/glossary"
                    role="menuitem"
                    tabindex="-1">Glossary</a>

                </li>

                    
            
                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_faqs-page"                      href="/faqs"
                    role="menuitem"
                    tabindex="-1">FAQs</a>

                </li>

                    
            
                
                                
                <li class="c-menu__item js-menu-item
                                              u-hide u-show@navbar"
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      u-hide u-show@navbar"
                                          data-test-id="nav_for-developers"                      href="/developers"
                    role="menuitem"
                    tabindex="-1">For Developers</a>

                </li>

                    
            
                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_newsroom-page"                      href="/newsroom"
                    role="menuitem"
                    tabindex="-1">Newsroom</a>

                </li>

                    
            
                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_contact-page"                      href="/contact"
                    role="menuitem"
                    tabindex="-1">Contact</a>

                </li>

                        </ul>
                                            </li>
                
            
        
            
                                                                
                
                                
                                    <li role="none"
                        data-index="4"
                        class="c-menubar__item js-menu-item  c-navbar__menu-bar-item
                                                              ">

                        <a href="https://blog.f1000.com/blogs/f1000research/" class="c-navbar__menu-bar-link js-menu-link " role="menuitem"
                             target="_blank"                                                         tabindex="-1"
                              data-test-id="nav_blog"                              >Blog</a>

                                            </li>
                
            
        
    </ul>



                            </div>

                            <div class="o-actions__secondary">

                                                                
    <ul class="c-menubar c-navbar__menu-bar js-main-menu"   id="secondary-items"   role="menubar" aria-label="My Account"  data-menu-group="navbar" >

        
            
                                                                
                                
                                
                                    <li role="none"
                        data-index="0"
                        class="c-menubar__item js-menu-item  c-navbar__menu-bar-item
                                                               c-menubar__item--selected c-navbar__menu-bar-item--parent ">

                        <a href="#" class="c-navbar__menu-bar-link js-menu-link " role="menuitem"
                                                         aria-haspopup="true" aria-expanded="false"                             tabindex="0"
                              data-test-id="nav_my-research"                              >My Research</a>

                                                    
    <ul class="c-menu js-menu
                is-collapsed                c-menubar__menu c-navbar__menu"
                  role="menu"
        aria-label="My Research">

        
            
                                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_my-submissions"                      href="/login?originalPath=/my/submissions"
                    role="menuitem"
                    tabindex="0">Submissions</a>

                </li>

                    
            
                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_my-email-alerts"                      href="/login?originalPath=/my/email-alerts"
                    role="menuitem"
                    tabindex="-1">Content and Tracking Alerts</a>

                </li>

                    
            
                
                                
                <li class="c-menu__item js-menu-item
                                              "
                        role="none">

                <a  class="c-menu__link js-menu-link
                                                      "
                                          data-test-id="nav_my-user-details"                      href="/login?originalPath=/my/user-details"
                    role="menuitem"
                    tabindex="-1">My Details</a>

                </li>

                        </ul>
                                            </li>
                
            
        
            
                                                                
                
                                
                                    <li role="none"
                        data-index="1"
                        class="c-menubar__item js-menu-item  c-navbar__menu-bar-item
                                                              ">

                        <a href="/login?originalPath=/articles/8-1619.html" class="c-navbar__menu-bar-link js-menu-link " role="menuitem"
                                                                                    tabindex="-1"
                              data-test-id="nav_sign-in"                              >Sign In</a>

                                            </li>
                
            
        
    </ul>



                            </div>

                                                                                        <div class="_mdl-layout c-navbar__cta u-hide@navbar c-navbar__menu-bar-spacing">
                                    <a class="mdl-button mdl-js-button mdl-button--raised mdl-button--multi-line mdl-button--no-shadow mdl-js-ripple-effect mdl-button--inverted c-navbar__submit" href="/for-authors/publish-your-research"   data-test-id="nav_submit_research_mob"  ><i class="material-icons">file_upload</i>Submit your research</a>
                                </div>
                                                    </div>

                    </div>

                </div>
            
        </div>

    </div>

</nav>
                    </div>

        <div class="content-wrapper o-page__main row ">
            <div id="highlight-area" class="content ">
                





<div id=article-metadata class=hidden> <input type=hidden name=versionId value=22445 /> <input type=hidden id=articleId name=articleId value=20421 /> <input type=hidden id=xmlUrl value="/articles/8-1619/v1/xml"/> <input type=hidden id=xmlFileName value="-8-1619-v1.xml"> <input type=hidden id=article_uuid value=e7faa0eb-1d38-4dd8-bd64-1243743b449f /> <input type=hidden id=referer value=""/> <input type=hidden id=meta-article-title value="Optimal price-based control of heterogeneous thermostatically controlled loads under uncertainty using LSTM networks and genetic algorithms"/> <input type=hidden id=workspace-export-url value="https://sciwheel.com/work/api/import/external?doi=10.12688/f1000research.20421.1"/> <input type=hidden id=versionDoi value="10.12688/f1000research.20421.1"/> <input type=hidden id=usePmcStats value=true /> </div> <main class="o-wrapper p-article__wrapper js-wrapper"> <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ScholarlyArticle",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://f1000research.com/articles/8-1619"
  },
  "headline": "Optimal price-based control of heterogeneous thermostatically controlled loads under uncertainty using LSTM...",
  "datePublished": "2019-09-10T16:05:44",
  "dateModified": "2019-09-10T16:05:44",
  "author": [
    {
      "@type": "Person",
      "name": "Taha Abdelhalim Nakabi"
    },    {
      "@type": "Person",
      "name": "Pekka Toivanen"
    }  ],
  "publisher": {
    "@type": "Organization",
    "name": "F1000Research",
    "logo": {
      "@type": "ImageObject",
      "url": "https://f1000research.com/img/AMP/F1000Research_image.png",
      "height": 480,
      "width": 60
    }
  },
  "image": {
    "@type": "ImageObject",
    "url": "https://f1000research.com/img/AMP/F1000Research_image.png",
    "height": 1200,
    "width": 150
  },
  "description": "In this paper, we consider the problem of thermostatically controlled load (TCL) control through dynamic electricity prices, under partial observability of the environment and uncertainty of the control response. The problem is formulated as a Markov decision process where an agent must find a near-optimal pricing scheme using partial observations of the state and action. We propose a long-short-term memory (LSTM) network to learn the individual behaviors of TCL units. We use the aggregated information to predict the response of the TCL cluster to a pricing policy. We use this prediction model in a genetic algorithm to find the best prices in terms of profit maximization in an energy arbitrage operation. The simulation results show that the proposed method offers a profit equal to 96% of the theoretical optimal solution."
}
</script> <div class="o-layout o-layout--right-gutter"> <div id=article_secondary-column class="p-article__main o-layout__item u-font-size--legal u-2/3@article not-expanded "> <div class=float-left> <script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
              {
          "@type": "ListItem",
          "position": "1",
          "item": {
            "@id": "https://f1000research.com/",
            "name": "Home"
          }
        },              {
          "@type": "ListItem",
          "position": "2",
          "item": {
            "@id": "https://f1000research.com/browse/articles",
            "name": "Browse"
          }
        },              {
          "@type": "ListItem",
          "position": "3",
          "item": {
            "@id": "https://f1000research.com/articles/8-1619/v1",
            "name": "Optimal price-based control of heterogeneous thermostatically controlled..."
          }
        }          ]
  }
  </script> <div class="breadcrumbs js-breadcrumbs"> <a href="/" class=f1r-standard-link>Home</a> <span class=item_separator></span> <a href="/browse/articles" class=f1r-standard-link>Browse</a> <span class=item_separator></span> Optimal price-based control of heterogeneous thermostatically controlled... </div> </div> <div class="article-badges-container u-mb--2"> <div class=crossmark-new> <script src="https://crossmark-cdn.crossref.org/widget/v2.0/widget.js"></script> <a data-target=crossmark><img height=30 width=150 src="https://crossmark-cdn.crossref.org/widget/v2.0/logos/CROSSMARK_Color_horizontal.svg"/></a> </div> <div id=crossmark-dialog style="display: none;" title=""> <iframe id=crossmark-dialog-frame frameborder=0></iframe> </div> <div class=clearfix></div> </div> <div class=article-interaction-container> <div id=main-article-count-box class=article-count-box> <div class="article-metrics-wrapper metrics-icon-wrapper" data-version-id=22445 data-id=20421 data-downloads="" data-views="" data-scholar="10.12688/f1000research.20421.1" data-recommended="" data-doi="10.12688/f1000research.20421.1" data-f1r-ga-helper="Article Page Metrics (Desktop)"> <span class="metrics-on-browse article-metrics-icon f1r-icon icon-89_metrics"></span> <div class="count-title article-metrics-text">ALL Metrics</div> <div class=js-article-metrics-container></div> </div> <div> <div class=count-delimiter></div> <div title="Total views from F1000Research and PubMed Central"> <div class="count-container view-count js-views-count">-</div> <div class=count-title><span class="count-title-icon count-title-views-icon"></span>Views</div> </div> <div class=download-counts hidden> <div class=count-delimiter></div> <div title="Total downloads from F1000Research and PubMed Central"> <div class="count-container js-downloads-count"></div> <div class=count-title><span class="count-title-icon f1r-icon icon-76_download_file"></span>Downloads</div> </div> </div> </div> </div> <div id=main-article-interaction-box class="article-interaction-box has-control-tab"> <div class="article-interaction-info article-page"> <div class=article-interaction-button> <span class="f1r-icon icon-102_download_pdf"></span> <a href="https://f1000research.com/articles/8-1619/v1/pdf?article_uuid=e7faa0eb-1d38-4dd8-bd64-1243743b449f" title="Download PDF" class="button-link download pdf-download-helper" target=_blank>Get PDF</a> </div> </div> <div class="article-interaction-info article-page"> <div class=article-interaction-button> <span class="f1r-icon icon-103_download_xml"></span> <a id=download-xml href="#" class="button-link download" title="Download XML">Get XML</a> </div> </div> <div class="article-interaction-info article-page"> <div class="cite-article-popup-wrapper article-page-interaction-box"> <div class="article-interaction-button cite-article-button" title="Cite this article" data-windowref=cite-article-popup-20421-1> <span class="f1r-icon icon-82_quote"></span> <a href="#" class="button-link cite-article-popup-link" title="Cite Article">Cite</a> </div> <div id=cite-article-popup-20421-1 class="popup-window-wrapper is-hidden"> <div class=cite-popup-background></div> <div class="popup-window top-popup cite-this-article-box research-layout"> <div class="popup-window-title small cite-title">How to cite this article</div> <span id=cite-article-text-20421-1 data-test-id=copy-citation_text> <span class="article-title-and-info in-popup">Nakabi TA and Toivanen P. Optimal price-based control of heterogeneous thermostatically controlled loads under uncertainty using LSTM networks and genetic algorithms [version 1; peer review: awaiting peer review]</span>. <i>F1000Research</i> 2019, <b>8</b>:1619 (<a class=new-orange href="https://doi.org/10.12688/f1000research.20421.1" target=_blank>https://doi.org/10.12688/f1000research.20421.1</a>) </span> <div class="popup-window-title small margin-top-20 margin-bottom-20 note"> <strong>NOTE:</strong> it is important to ensure the information in square brackets after the title is included in all citations of this article. </div> <div class=float-right> <button class="secondary no-fill orange-text-and-border margin-right-20 close-cite-popup uppercase">Close</button> <button id=copy-citation-details class="secondary orange copy-cite-article-version uppercase js-clipboard" title="Copy the current citation details to the clipboard." data-clipboard-target="#cite-article-text-20421-1" data-test-id=copy-citation_button>Copy Citation Details</button> </div> </div> </div> </div> </div> <div class="article-interaction-info article-page"> <div class=article-interaction-button> <span class="f1r-icon icon-76_download_file"></span> <a id=export-citation href="#" class="button-link download" title="Export Citation">Export</a> </div> <div class="modal-window-wrapper is-hidden"> <div id=export-citation-popup class="modal-window padding-20"> <div class=modal-window-close-button></div> <div class=modal-window-title>Export Citation</div> <div class=modal-window-row> <div> <input type=radio name=export-citation-option value=WORKSPACE /> <span class=radio-label>Sciwheel</span> </div> <div> <input type=radio name=export-citation-option value=ENDNOTE /> <span class=radio-label>EndNote</span> </div> <div> <input type=radio name=export-citation-option value=REF_MANAGER /> <span class=radio-label>Ref. Manager</span> </div> <div> <input type=radio name=export-citation-option value=BIBTEX /> <span class=radio-label>Bibtex</span> </div> <div> <input type=radio name=export-citation-option value=PROCITE /> <span class=radio-label>ProCite</span> </div> <div> <input type=radio name=export-citation-option value=SENTE /> <span class=radio-label>Sente</span> </div> </div> <div class=modal-window-footer> <button class=general-white-orange-button id=export-citation-submit>EXPORT</button> </div> <div class=default-error style="display: none;">Select a format first</div> </div> </div> </div> <div class="article-interaction-info article-page"> <div class=article-interaction-button> <span class="f1r-icon icon-90_track"></span> <a class="button-link track-article" data-article-id=20421 id=track-article-signin-20421 title="Receive updates on new activity such as publication of new versions, peer reviews or author responses." href="/login?originalPath=/trackArticle/20421?target=/articles/8-1619/v1">Track</a> </div> </div> <div class="article-interaction-info article-page"> <div class="article-interaction-button email-article"> <span class="f1r-icon icon-6_email"></span> <a href="#" class=button-link title="Email this article">Email</a> </div> <div class="email-article-version-container small-tooltip _chrome-fix"> <div class=close-icon><span class="f1r-icon icon-3_close_big"></span></div> <script src='https://www.recaptcha.net/recaptcha/api.js'></script> <form class="recommend-version-form research-layout"> <p>All fields are required.</p> <input name=versionId type=hidden value=22445 /> <input name=articleId type=hidden value=20421 /> <input name=senderName class="form-input-field reg-form" value="" type=text placeholder="Your name"/> <input name=senderEmail class="form-input-field reg-form margin-top" value="" type=text placeholder="Your email address"/> <textarea name=recipientEmails class="form-textarea-field ninetynine-percent-wide margin-top no-resize" placeholder="Recipient email address(es) (comma delimited)"></textarea> <input class="form-input-field reg-form margin-top" name=subject type=text value="Interesting article on F1000Research" placeholder=Subject /> <textarea name=message class="form-textarea-field reg-form margin-top no-resize">I thought this article from F1000Research (https://f1000research.com) would be of interest to you.</textarea> <div class="g-recaptcha margin-top" data-sitekey=6LcHqxoUAAAAANP3_0TzpGG6qFvl4DhbUcuRzw7W></div> <input value="" name=captcha type=hidden /> <p>A full article citation will be automatically included.</p> <p><img class="ticker-email-article-details hidden" src="/img/ticker.gif" alt=loading /></p> <button class="secondary orange margin-bottom" data-test-id=version_share_email_send>SEND EMAIL</button> <div class="orange-message margin-bottom is-hidden" data-test-id=version_share_email_message></div> </form> </div> </div> <div class="article-interaction-info article-page"> <div class=article-interaction-button> <span class="f1r-icon icon-34_share"></span> <a href="#" class="button-link last addthis_button share-article" title="Share this article">Share</a> </div> </div> </div> <div id=article-interaction-control-tab class=article-interaction-control-tab> <div id=hide-article-interaction class=article-interaction-control title="Hide Toolbox">&#9644;</div> <div id=show-article-interaction class="article-interaction-control open" title="Show Toolbox">&#10010;</div> </div> </div> <div class="article-header-information article-page"> <div class="f1r-article-mobile article-heading-bar"></div> <div class="article-type article-display">Research Article </div> <div class="article-title-and-info article-view highlighted-article" id=anchor-title> <h1>Optimal price-based control of heterogeneous thermostatically controlled loads under uncertainty using LSTM networks and genetic algorithms</h1><span class=other-info> [version 1; peer review: awaiting peer review]</span> </div> <div class=article-subtitle></div> <div class=f1r-article-desk> <div class="authors _mdl-layout"><span class=""><a href="mailto:tahanak@uef.fi" title="Send email" class="cauthor research-layout"><span class='f1r-icon icon-6_email orange'></span><span>Taha Abdelhalim Nakabi</span></a><a href="https://orcid.org/0000-0001-7103-7036" target=_blank id=author-orcid-0><span class=orcid-logo-for-author-list></span></a><div class="mdl-tooltip mdl-tooltip--wider" for=author-orcid-0><span class=orcid-logo-for-author-list></span> https://orcid.org/0000-0001-7103-7036</div>,&nbsp;</span><span class="">Pekka Toivanen</span></div> </div> <div class=f1r-article-mobile> <div class="authors _mdl-layout"><span class=""><a href="mailto:tahanak@uef.fi" title="Send email" class="cauthor research-layout"><span class='f1r-icon icon-6_email orange'></span><span>Taha Abdelhalim Nakabi</span></a><a href="http://orcid.org/0000-0001-7103-7036" target=_blank id=mauthor-orcid-0><span class=orcid-logo-for-author-list></span></a><div class="mdl-tooltip mdl-tooltip--wider" for=mauthor-orcid-0><span class=orcid-logo-for-author-list></span> https://orcid.org/0000-0001-7103-7036</div>,&nbsp;</span><span class="">Pekka Toivanen</span></div> </div> <div class=f1r-article-mobile> <div class=article-pubinfo-mobile> PUBLISHED 10 Sep 2019 </div> </div> <span class=Z3988 title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info:ofi/fmt:kev:mtx:journal&amp;rft_id=info:doi/10.12688%2Ff1000research.20421.1"></span> <div class=f1r-article-desk> <div class="contracted-details first"> <a href="#" class="contracted-details-label author-affiliations"><span class=contracted></span>Author details</a> <a href="#" class=section-title>Author details</a> <span class="f1r-icon icon-14_more_small section-control"></span> <span class="f1r-icon icon-10_less_small section-control"></span> <div class="expanded-details affiliations is-hidden"> School of Computing, University of Eastern Finland, Kuopio, 70211, Finland<br/> <p> <div class=margin-bottom> Taha Abdelhalim Nakabi <br/> <span>Roles: </span> Conceptualization, Data Curation, Formal Analysis, Investigation, Methodology, Project Administration, Resources, Software, Validation, Visualization, Writing  Original Draft Preparation, Writing  Review & Editing </div> <div class=margin-bottom> Pekka Toivanen <br/> <span>Roles: </span> Funding Acquisition, Supervision </div> </p> </div> </div> </div> <div class=f1r-article-mobile> <div class="article-page-section-box margin-bottom-40 research-layout"> <span class=box-title> <span class="f1r-icon icon-85_peer_review"></span> OPEN PEER REVIEW </span> <div class="status-row referee-reports-container"> REVIEWER STATUS <span class=status-icons> <em>AWAITING PEER REVIEW</em> </span> </div> </div> </div> <div class="f1r-article-desk padding-top"> <div class=article-collection-wrapper> <div class="o-media o-media--sm o-media--center"> <div class=o-media__img> <a href="https://f1000research.com/collections/mpcsciences" title="Open Collection"><img src="https://f1000researchdata.s3.amazonaws.com/thumbnails/07b4509d-29d3-4825-9d5d-79d80161e1ed_collection.thumbnail"></a> </div> <div class=o-media__body> <p class="u-mt--0 u-mb--0">This article is included in the <a href="https://f1000research.com/collections/mpcsciences">Mathematical, Physical, and Computational Sciences</a> collection.</p> </div> </div> </div> </div> </div> <h2 class="article-headings article-page-abstract" id=anchor-abstract> <span class="f1r-article-mobile-inline abstract-heading-border"></span> Abstract </h2> <div class="article-abstract article-page-general-text-mobile research-layout"> <div class="abstract-text is-expanded"> In this paper, we consider the problem of thermostatically controlled load (TCL) control through dynamic electricity prices, under partial observability of the environment and uncertainty of the control response. The problem is formulated as a Markov decision process where an agent must find a near-optimal pricing scheme using partial observations of the state and action. We propose a long-short-term memory (LSTM) network to learn the individual behaviors of TCL units. We use the aggregated information to predict the response of the TCL cluster to a pricing policy. We use this prediction model in a genetic algorithm to find the best prices in terms of profit maximization in an energy arbitrage operation. The simulation results show that the proposed method offers a profit equal to 96% of the theoretical optimal solution. </div> <div class=abstract-for-mobile> <div class="margin-top-30 padding-bottom-30 research-layout is-centered"> <button class="primary orange-text white-bg bigger-text abstract-expand-button-mobile with-border show" style="display: none;"> READ ALL <span class="f1r-icon icon-14_more_small orange vmiddle big"></span> </button> <button class="primary orange-text white-bg bigger-text abstract-expand-button-mobile with-border hide"> READ LESS <span class="f1r-icon icon-10_less_small orange vmiddle big"></span> </button> </div> </div> </div> <div class=clearfix></div> <div class="article-context no-divider"> <div class="article-abstract article-page-general-text-mobile research-layout generated-article-body"> <h2 class=main-title>Keywords</h2> <p class="u-mb--0 u-pb--2"> Artificial intelligence, Artificial neural networks, Customer behavior learning, Demand response programs, Energy arbitrage, LSTM, Partial observability, Price elasticity of demand, Profit maximization, Smart grid, thermostatically controlled loads. </p> </div> </div> <div class=article-information> <span class="info-separation padding-bottom"> <div id=corresponding-author-icon class="email-icon float-left"> <span class="f1r-icon icon-6_email orange"></span> <div id=corresponding-author-window class="margin-top-20 popup-window-wrapper is-hidden"> <div class="popup-window corresponding-authors-popup"> <div class=corresponding-author-container> <div class="popup-window-title small">Corresponding Author(s)</div> <div class=authors> Taha Abdelhalim Nakabi (<a href="mailto:tahanak@uef.fi">tahanak@uef.fi</a>) </div> </div> <div class="margin-top margin-bottom float-left"> <button id=close-popup-window class=general-white-orange-button>Close</button> </div> </div> </div> </div> <span class="icon-text float-left" data-test-id=box-corresponding-author> <b>Corresponding author:</b> Taha Abdelhalim Nakabi </span> <div class=clearfix></div> </span> <span class="info-separation padding-bottom competing-interests-display"> <span class=competing-interests-title>Competing interests:</span> No competing interests were disclosed. </span> <div class="info-separation padding-bottom grant-information-display"> <span class=grant-information-title>Grant information:</span> Jenny and Antti Wihuri Foundation. <br/> <i>The funders had no role in study design, data collection and analysis, decision to publish, or preparation of the manuscript.</i> </div> <span class="f1r-article-desk info-separation padding-bottom"> <span class="copywrite-icon float-left"> <span class="f1r-icon icon-100_open_access"></span> </span> <span class="icon-text float-left" data-test-id=box-copyright-text> <b>Copyright:</b>&nbsp;  2019 Nakabi TA and Toivanen P. This is an open access article distributed under the terms of the <a href="http://creativecommons.org/licenses/by/4.0/" target=_blank data-test-id=box-licence-link>Creative Commons Attribution License</a>, which permits unrestricted use, distribution, and reproduction in any medium, provided the original work is properly cited. </span> <div class=clearfix></div> </span> <span class="info-separation padding-bottom" data-test-id=box-how-to-cite> <b>How to cite:</b> <span class="article-title-and-info in-article-box"> Nakabi TA and Toivanen P. Optimal price-based control of heterogeneous thermostatically controlled loads under uncertainty using LSTM networks and genetic algorithms [version 1; peer review: awaiting peer review]</span>. <i>F1000Research</i> 2019, <b>8</b>:1619 (<a href="https://doi.org/10.12688/f1000research.20421.1" target=_blank>https://doi.org/10.12688/f1000research.20421.1</a>) </span> <span class=info-separation data-test-id=box-first-published><b>First published:</b> 10 Sep 2019, <b>8</b>:1619 (<a href="https://doi.org/10.12688/f1000research.20421.1" target=_blank>https://doi.org/10.12688/f1000research.20421.1</a>)</span> <span class=info-separation data-test-id=box-latest-published><b>Latest published:</b> 10 Sep 2019, <b>8</b>:1619 (<a href="https://doi.org/10.12688/f1000research.20421.1" target=_blank>https://doi.org/10.12688/f1000research.20421.1</a>)</span> </div> <div class=clearfix></div> <div id=article-context class=article-context> <div id=article1-body class=generated-article-body><h2 class=main-title id=d1596e151>Abbreviations</h2><p class="" id=d1596e154>DR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Demand Response</p><p class="" id=d1596e157>GA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Genetic Algorithm</p><p class="" id=d1596e160>LSTM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Long-Short Term Memory</p><p class="" id=d1596e163>MDP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Markov Decision Process</p><p class="" id=d1596e167>TCL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thermostatically controlled load</p></div><div id=article1-body class=generated-article-body><h2 class=main-title id=d1596e173>Indices</h2><p class="" id=d1596e176>n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Index for TCL units n = 1,2, ,30</p><p class="" id=d1596e179>t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Index for time step, t = 1, 2, , 24</p></div><div id=article1-body class=generated-article-body><h2 class=main-title id=d1596e185>Parameters</h2><p class="" id=d1596e188><i>f</i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Transition function</p><p class="" id=d1596e193>g&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;State approximation function</p><p class="" id=d1596e196>H&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Control horizon</p><p class="" id=d1596e199><i>L<sub>max</sub></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maximum load capacity<sup><a href="#FN1">1</a></sup></p><p class="" id=d1596e210><i>L<sub>max</sub></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Load threshold</p><p class="" id=d1596e217>N&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Number of TCL units to control</p><p class="" id=d1596e220>PN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Population size</p><p class="" id=d1596e223>Rmax&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Revenue cap</p><p class="" id=d1596e226>U&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Action space</p><p class="" id=d1596e229><i>W</i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Random process space</p><p class="" id=d1596e235><i>X</i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;State space</p></div><div id=article1-body class=generated-article-body><h2 class=main-title id=d1596e243>Variables</h2><p class="" id=d1596e246><span style="text-decoration: underline"><i>C</i></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Candidate state vector in LSTM network</p><p class="" id=d1596e252><i>C<sub>t</sub></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cost function at time t</p><p class="" id=d1596e259>T<sub>t</sub>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gap between the outdoor and indoor temperatures [C]</p><p class="" id=d1596e265><i>h</i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Control policy</p><p class="" id=d1596e271><span style="text-decoration: underline"><i>h<sub>t</sub></i></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hidden state vector of LSTM network</p><p class="" id=d1596e279><i>I<sub>n,t</sub></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Input matrix of LSTM network</p><p class="" id=d1596e286><i>P<sub>t</sub></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Selling electricity price at time <i>t</i> [ cent/kW]</p><p class="" id=d1596e296><i>P<sub>t</sub></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wholesale electricity price at time <i>t</i> [ cent/kW]</p><p class="" id=d1596e306><i>P<sub>t,max</sub></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maximum selling price at time <i>t</i> [ cent/kW]</p><p class="" id=d1596e316><i>P<sub>t,min</sub></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Minimum selling price at time <i>t</i> [ cent/kW]</p><p class="" id=d1596e327><i>P<sub>w</sub></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Probability distribution</p><p class="" id=d1596e334><i>p</i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Control action reward</p><p class="" id=d1596e339>T<sub>t</sub>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Temperature at time <i>t</i> [C]</p><p class="" id=d1596e348><i>u<sub>t</sub></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Control action at time <i>t</i></p><p class="" id=d1596e357><i>x<sub>t</sub></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;State at time <i>t</i></p></div><div id=article1-body class=generated-article-body><h2 class=main-title id=d1596e369>Introduction</h2><p class="" id=d1596e372>In a power network relying on distributed and renewable energy resources, the exploration of new sources of flexibility is a key factor for its stability. Given the intermittent nature of renewable energy resources, it is challenging to maintain the power balance under normal operating conditions in a grid with deep penetration of these resources. Therefore, more integration of renewable resources increases the need for ancillary services such as regulation reserve and load following requirements<sup><a href="#ref-1">1</a></sup>. However, using traditional fossil fuel generators to provide these reserves will decrease the net carbon benefit from renewables, weaken generation efficiency and will be economically untenable. Alternatively, demand-side resources can play a key role in supplying the regulation service needed for deep renewable integration with zero-emission operations. Demand-side resources such as thermostatically controlled loads (TCLs), electric vehicles and strategic storage can contribute to ancillary services by acting as a source of flexibility to the grid. Unlike the traditional demand-side management programs, such as peak load shaving and emergency load management, the exploration of higher flexibility from the above-mentioned loads has a big potential in offering more lucrative and faster ancillary services. The potential of these sources of flexibility is reflected on the energy market. Electricity prices fluctuate according to the availability and demand of energy. This can open considerable opportunities for energy arbitrage<sup><a href="#ref-2">2</a></sup>.</p><p class="" id=d1596e383>A significant potential for provision of flexibility resides in TCLs such as air conditioners ACs, heat pumps, water heaters, and refrigerators. TCLs represent a high percentage of the total electricity consumption<sup><a href="#ref-3">3</a>,<a href="#ref-4">4</a></sup>. The nature of TCLs permits them to act as a thermal storage which makes it possible to adjust their electricity consumption while maintaining the temperature requirements and the comfort level of the end user. The idea of TCL flexibility relies on the principle that the temperature constraints specified by the users, can be fulfilled by different power trajectories. Finding the optimal trajectory that provides the required flexibility and high lucrative ancillary service is the subject of several studies<sup><a href="#ref-5">5</a><a href="#ref-7">7</a></sup>. However, this problem requires real-time information about the state of TCLs, their envelope temperature and their behavior in response to temperature dynamics. In most of the cases, this information is only partially available and requires qualitative or quantitative models to estimate it. It is also possible to use model-free approaches to solve the problem of uncertainty and find near-optimal power trajectories<sup><a href="#ref-2">2</a></sup>.</p><p class="" id=d1596e404>The optimal power trajectory for a cluster of TCLs is then translated to individual or aggregated control signals using a variety of control methods. Control methods can be categorized into intrusive forms, including direct and indirect control, and non-intrusive form using price proxies. The direct intrusive form of control consists of directly controlling the on/off states of the TCLs, the indirect intrusive form consists of controlling the parameters of TCLs, such as the temperature set points and the switch cycles and the non-intrusive form of control uses dynamic prices to steer the consumption of TCLs relying on price-based demand response programs. The intrusive form requires an aggregator contracting with each TCL unit holder for taking control of their TCLs with the condition that their temperature constraints will be respected throughout the control period. The non-intrusive approach relies on the end users involvement and response to a given control signal in return of a certain incentive or special pricing. The users response to these signals can also be an automatic response to electricity prices throughout the day using home energy management systems or embedded TCL controllers<sup><a href="#ref-8">8</a></sup>.</p><p class="" id=d1596e411>Intrusive control of TCLs has a big potential in offering a wide range of flexibility and market opportunities for the aggregators. It offers a faster response to control signals and permits the design of a more reliable energy arbitrage strategy compared to non-intrusive control through price proxies. However, the implementation of the technological requirements for an intrusive control on a large scale can be challenging due to its high financial requirements. Additionally, the question of whether the consumers are ready to give up the control of their TCLs to an external party can also be a barrier for the implementation of these programs. According to <a href="#ref-9">9</a>, the integration of end users in the demand response (DR) programs is a key factor for its success. Several smart grid projects were analyzed from this perspective and the conclusions suggest that more attention should be given to the domestication of these technologies and their adaptation with the users experience considering their social dimensions such as individual behavior, education, and income level<sup><a href="#ref-9">9</a>,<a href="#ref-10">10</a>,<a href="#ref-11">11</a></sup>. It is therefore necessary to include all these factors in the design of a DR program. Non-intrusive control, on the other hand, has fewer constraints regarding the users comfort and data privacy. It makes the end user feel included in the decision making of the grid and involved in the energy management. This discussion can serve as a benchmark when making the choice of the control strategy and the implementation of a large-scale DR program.</p><p class="" id=d1596e428>In our paper, we choose to implement a non-intrusive control using dynamic electricity prices. We first formulate the problem as a Markov decision process (MDP)<sup><a href="#ref-12">12</a></sup>, where the policy consists of a sequence of electricity prices. The agent is assumed to have no prior knowledge or data about the state of TCL units except their real time power consumption. The idea is to use data-driven models that can learn the consumption patterns of each individual TCL unit and their response to temperatures and prices. We use a long-short-term memory (LSTM) neural network architecture to learn individual TCL units behaviors as in <a href="#ref-13">13</a>. This method can overcome the problem of uncertainty and the diversity of power consumption preferences in response to varying prices. The aggregator uses these models to simulate the aggregate response TCLs to different pricing schemes during a certain control horizon. An optimization algorithm is then applied to find the best pricing strategy given an objective function. When controlling a cluster of TCLs, different objective functions are considered in the literature, such as tracking a balancing signal<sup><a href="#ref-7">7</a></sup> or energy arbitrage<sup><a href="#ref-5">5</a></sup>. In this work we adopt an energy arbitrage objective function, where we maximize the profit of an aggregator that buys electricity from the wholesale market and sells it in the retail market to end users with TCL units. A genetic algorithm is implemented to find the best pricing solution of the aggregate TCLs.</p></div><div id=article1-body class=generated-article-body><h2 class=main-title id=d1596e450>Related work and contributions</h2><p class="" id=d1596e453>The literature contains extensive research concerning TCL control and their flexibility potential.</p><div class=section><a name=d1596e456 class=n-a></a><h3 class=section-title>TCL control approaches</h3><p class="" id=d1596e461>Most early studies, as well as current work, focus on direct intrusive control methods and frameworks. Early work that tackled aggregated modeling of TCLs can be found in <a href="#ref-14">14</a> and <a href="#ref-15">15</a>. The solution computation and controller design of these approaches is considerably difficult, which represents a drawback for these approaches. These issues were mitigated in more recent works<sup><a href="#ref-5">5</a>,<a href="#ref-7">7</a>,<a href="#ref-16">16</a></sup> using a different class of linear population-bin transition models based on Markov chains. Other approaches have proposed time-varying battery models with dissipation such as <a href="#ref-17">17</a> or without dissipation as in <a href="#ref-18">18</a>. These approaches were used to compute near-optimal control trajectories with a reduced computational cost. Although optimal pricing for demand side management has been thoroughly studied in the literature<sup><a href="#ref-19">19</a><a href="#ref-21">21</a></sup>, the price-based control of TCLs remains only briefly addressed in the literature. In <a href="#ref-22">22</a>, the operating reserve capacity of aggregated heterogeneous TCLs was evaluated using a TCL model that takes into consideration consumer behavior. The price-based approach was also addressed from the consumer perspective in <a href="#ref-23">23</a>. The objective of the proposed method was mainly to find the optimal set point change in response to electricity prices in other to minimize the increases in the electricity bill due to dynamic pricing. The power gain from this control scheme was then used for load following supply. Another approach was proposed to find the equilibrium between the electricity prices and the users comfort. Using a Stackelberg game approach, authors in <a href="#ref-24">24</a> presented a unique Stackelberg equilibrium that maximizes the utility function and minimizes dissatisfaction cost of TCLs users. A similar approach was proposed in <a href="#ref-25">25</a> and <a href="#ref-26">26</a> using a mean-field game approach to find the best pricing scheme considering TCLs as price-responsive rational agents.</p></div><div class=section><a name=d1596e510 class=n-a></a><h3 class=section-title>Deep learning-based models for TCL control with partial observability</h3><p class="" id=d1596e515>Deep learning and other machine learning methods are largely applied in DR programs<sup><a href="#ref-27">27</a></sup>. The implementation of a TCL cluster control program faces the problem of uncertainty and heterogeneity of the TCL units behaviors in response to control prices. Consequently, many researchers were interested in using machine learning models that can learn aggregate or individual behavior of TCL units under partial observability. A model-free reinforcement learning was early proposed in <a href="#ref-28">28</a> for TCL control that gives similar results as model predictive approaches. Reinforcement learning approaches were also used in<sup><a href="#ref-29">29</a></sup> to control domestic water buffers according to a local photovoltaic production for the maximization of self-consumption. More recently, the success of deep reinforcement learning approaches has inspired more researchers to tackle the problem of direct TCL control using deep reinforcement learning. Authors in <a href="#ref-30">30</a><a href="#ref-33">33</a> have used different deep neural architectures for automatic estimation of the TCLs states features in a batch reinforcement learning model. The same authors have later provided a comparison of the different architectures in <a href="#ref-33">33</a>,<a href="#ref-34">34</a>. The LSTM architecture has outperformed the other deep neural network architectures. These works focused only on deep Q-learning, which is based on the estimation of a quality function for every potential action before performing the optimization. In <a href="#ref-35">35</a> Deep policy gradient method was explored along with deep Q-learning for an on-line energy optimization of the buildings.</p></div><div class=section><a name=d1596e546 class=n-a></a><h3 class=section-title>Contributions</h3><p class="" id=d1596e551>Following the above-mentioned literature and the success of LSTM networks in mitigating the problem of partial state information and solving long-term dependency problem<sup><a href="#ref-13">13</a>,<a href="#ref-33">33</a>,<a href="#ref-34">34</a></sup>, we propose a two-step pricing optimization method for the exploration of TCL flexibility in energy arbitrage. This paper addresses the need for new non-intrusive TCL control methods via electricity prices proxies, so far lacking in the scientific literature. The proposed method relies on LSTM networks learning individual TCL unit behavior and the prediction of individual responses to electricity prices. The individual predictions are aggregated to form an overall prediction model. This model is used in a genetic algorithm (GA)-based optimization algorithm to maximize a retailers profit considering grid and energy cost constraints. To the best of the authors knowledge, this is the first work that uses LSTM networks in a non-intrusive TCL control problem based on electricity prices within a DR program. The main contributions of this paper are the following:</p><div class=list><a name=d1596e564 class=n-a></a><ul><li><p id=d1596e568>An MDP formulation of the price control problem where the policy is the set of electricity prices during a control horizon.</p></li><li><p id=d1596e574>An LSTM network for learning the individual behavior of TCL units in response of electricity prices and temperatures.</p></li><li><p id=d1596e580>An aggregation of individual TCL units behaviors, in response to prices, to derive a global estimation of the potential response of the TCL units cluster.</p></li><li><p id=d1596e586>A genetic algorithm that uses the aggregated information from the LSTM networks to optimize the lucrative benefits from an energy arbitrage operation.</p></li></ul></div></div></div><div id=article1-body class=generated-article-body><h2 class=main-title id=d1596e595>Problem formulation</h2><p class="" id=d1596e598>We consider a cluster of residential households powered by electricity from the same retailer or utility company. The households are equipped with smart meters and TCLs that can react to electricity prices and indoor temperatures. The retailer implements a price-based DR program that announces electricity prices for a certain time horizon in such a way that maximizes an objective function. The optimization is based on an estimated information about the responsiveness to electricity prices and temperatures. Before discussing the pricing optimization approach, we formulate the problem as an MDP<sup><a href="#ref-12">12</a></sup>. An MDP is defined by its state space <i>X</i>, its action space <i>U</i>, and its transition function <i>f</i>, which defines the dynamics between the current state <i>x<sub>t</sub></i>  <i>X</i> and the next step <i>x<sub>t</sub></i><sub>+1</sub> under a control action <i>u<sub>t</sub></i> <i>U</i> and subject to a random process <i>w</i>  <i>W</i> with a probability distribution <i>p<sub>w</sub></i> (., <i>x<sub>t</sub></i>). The transition equation is defined as follows:</p><p class="" id=d1596e655><a name=e1 class=n-a></a><div class="disp-formula panel"><math display=block id=math1 overflow=scroll><mrow><msub><mi>x</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>f</mi><mo stretchy=false>(</mo><msub><mi>x</mi><mi>t</mi></msub><mo>,</mo><msub><mi>u</mi><mi>t</mi></msub><mo>,</mo><msub><mi>w</mi><mi>t</mi></msub><mo stretchy=false>)</mo></mrow><mspace width="12.5em"></mspace><mo stretchy=false>(</mo><mn>1</mn><mo stretchy=false>)</mo></math></div></p><p class="" id=d1596e704>The objective of this process will be to find a policy <i>h: X</i><i>U</i> that minimizes or maximizes a cost function or a reward function throughout the control horizon starting from a state <i>x</i><sub>1</sub> denoted by:</p><p class="" id=d1596e718><a name=e2 class=n-a></a><div class="disp-formula panel"><math display=block id=math2 overflow=scroll><mrow><msub><mi>R</mi><mi>h</mi></msub><mo stretchy=false>(</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy=false>)</mo><mo>=</mo><mi>E</mi><mo stretchy=false>(</mo><mstyle displaystyle=true><munder><mo></mo><mi>t</mi></munder><mrow><mi></mi><mo stretchy=false>(</mo><msub><mi>x</mi><mi>t</mi></msub><mo>,</mo><msub><mi>h</mi><mi>t</mi></msub><mo>,</mo><msub><mi>w</mi><mi>t</mi></msub><mo stretchy=false>)</mo><mo stretchy=false>)</mo></mrow></mstyle></mrow><mspace width="8.6em"></mspace><mo stretchy=false>(</mo><mn>2</mn><mo stretchy=false>)</mo></math></div></p><p class="" id=d1596e785>where <i></i> is the reward or the cost of each time step k given an action <i>h<sub>t</sub></i>. Unlike the classic Q-iteration methods, the policy is characterized directly by sum of rewards during a time horizon <i>H</i>. The optimization is performed on the set of actions during the time horizon <i>H</i> and the fitness function is the cost function <i>R<sub>h</sub></i> of the policy <i>h</i>. For each policy <i>h</i>, a corresponding sequence of states is estimated implicitly by the forecasting model.</p><div class=section><a name=d1596e814 class=n-a></a><h3 class=section-title>State and control action description</h3><p class="" id=d1596e819>The agent is only able to measure a partial observation of the true state i.e. no information about the indoor temperatures, resulting in a partially observable Markov decision problem. The observable state space <i>X</i> consists of two variables: the outside temperature, and the electric load:</p><p class="" id=d1596e825><a name=e3 class=n-a></a><div class="disp-formula panel"><math display=block id=math3 overflow=scroll><mrow><msub><mi>x</mi><mi>t</mi></msub><mo>=</mo><mo stretchy=false>(</mo><msub><mi>L</mi><mi>t</mi></msub><mo>,</mo><msub><mi>T</mi><mi>t</mi></msub><mo stretchy=false>)</mo></mrow><mspace width="15.5em"></mspace><mo stretchy=false>(</mo><mn>3</mn><mo stretchy=false>)</mo></math></div></p><p class="" id=d1596e860>Since the observable state space only includes part of the true state, it is not possible to directly model future state transitions. Yet this remains convenient when following the results from <a href="#ref-13">13</a> that we can predict the next step electric load <i>L<sub>t</sub></i><sub>+1</sub> using the information of outdoor temperature <i>T<sub>t</sub></i>, the electric load <i>L<sub>t</sub></i> and the electricity price <i>P<sub>t</sub></i><sub>+1</sub>. The state is extended with sequences of past observations of states and actions, which results in a non-Markovian state.</p><p class="" id=d1596e891>For each TCL, the electric load is approximated by:</p><p class="" id=d1596e895><a name=e4 class=n-a></a><div class="disp-formula panel"><math display=block id=math4 overflow=scroll><mrow><msub><mi>L</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo></mo><mi>g</mi><mo stretchy=false>(</mo><msub><mi>L</mi><mi>t</mi></msub><mo>,</mo><msub><mi>T</mi><mi>t</mi></msub><mo>,</mo><msub><mi>P</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy=false>)</mo></mrow><mspace width="11.5em"></mspace><mo stretchy=false>(</mo><mn>4</mn><mo stretchy=false>)</mo></math></div></p><p class="" id=d1596e949>We assume that the outside temperatures forecasts are available for every future timestep in the control horizon.</p><p class="" id=d1596e952>The control action <i>u<sub>t</sub></i> consists of the electricity price that the retailer announces for each time step of the control horizon. As mentioned earlier, even though the retailer is not controlling the TCLs directly, we assume that the TCLs react directly to electricity prices. Therefore, the electricity price controls the state by influencing the amount of energy consumed during a timestep <i>t</i>. The next state is then defined by:</p><p class="" id=d1596e963><a name=e5 class=n-a></a><div class="disp-formula panel"><math display=block id=math5 overflow=scroll><mtable columnalign=left><mtr><mtd><msub><mi>x</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub></mtd></mtr><mtr><mtd><mo>=</mo><mi>f</mi><mo stretchy=false>(</mo><msub><mi>x</mi><mi>t</mi></msub><mo>,</mo><msub><mi>P</mi><mi>t</mi></msub><mo>,</mo><msub><mi>w</mi><mi>t</mi></msub><mo stretchy=false>)</mo><mo></mo><mo stretchy=false>(</mo><mi>g</mi><mo stretchy=false>(</mo><msub><mi>L</mi><mi>t</mi></msub><mo>,</mo><msub><mi>T</mi><mi>t</mi></msub><mo>,</mo><msub><mi>P</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy=false>)</mo><mo>,</mo><msub><mi>T</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy=false>)</mo><mo>.</mo></mtd></mtr></mtable><mspace width="3.4em"></mspace><mo stretchy=false>(</mo><mn>5</mn><mo stretchy=false>)</mo></math></div></p></div><div class=section><a name=d1596e1069 class=n-a></a><h3 class=section-title>Objective function</h3><p class="" id=d1596e1074>According to the existing literature, the control of TCLs clusters can be performed considering different objective functions. For instance, the objective can be tracking a balancing signal or energy arbitrage. In this work we consider an energy arbitrage problem where a retailer is trying to maximize their profit. However, the framework and methods presented here might as well be applied to different objective functions. We consider the profit as the difference between the revenue and the cost function. We assume that the cost function <i>C<sub>t</sub></i>(<i>L<sub>t</sub></i>) is convex increasing in <i>L<sub>t</sub></i> for each timestep as formulated in <a href="#ref-36">36</a>.</p><p class="" id=d1596e1095><a name=e6 class=n-a></a><div class="disp-formula panel"><math display=block id=math6 overflow=scroll><mrow><msub><mi>C</mi><mi>t</mi></msub><mo stretchy=false>(</mo><msub><mi>L</mi><mi>t</mi></msub><mo stretchy=false>)</mo><mo>=</mo><mi>q</mi><msubsup><mi>L</mi><mi>t</mi><mn>2</mn></msubsup><mo>+</mo><msub><mi>p</mi><mi>t</mi></msub><msub><mi>L</mi><mi>t</mi></msub><mo>+</mo><mi>c</mi></mrow><mspace width="10.8em"></mspace><mo stretchy=false>(</mo><mn>6</mn><mo stretchy=false>)</mo></math></div></p><p class="" id=d1596e1149>where, <i>q</i> &gt; 0 is a constant, <i>p<sub>t</sub></i> &gt; 0 is the electricity price in the wholesale market and <i>c</i> &gt; 0 is a fixed cost.</p><p class="" id=d1596e1163>In order to avoid overload during peak times, we introduce a maximum load capacity of the power network, denoted <i>L<sub>t,max</sub></i> at each timestep. Therefore, we have the following constraint:</p><p class="" id=d1596e1172><a name=e7 class=n-a></a><div class="disp-formula panel"><math display=block id=math7 overflow=scroll><mtable columnalign=left><mtr><mtd><msub><mi>L</mi><mi>t</mi></msub><mo>=</mo><mstyle displaystyle=true><munder><mo></mo><mi>n</mi></munder><mrow><msub><mi>L</mi><mrow><mi>n</mi><mo>,</mo><mi>t</mi></mrow></msub><mo></mo><msub><mi>L</mi><mrow><mi>t</mi><mo>,</mo><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mspace width="0.2em"></mspace><mo>,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mspace width=6em></mspace><mo></mo><mi>t</mi><mspace width="0.2em"></mspace><mo></mo><mtext></mtext><mspace width="0.4em"></mspace><mi>H</mi></mtd></mtr></mtable><mspace width=11em></mspace><mo stretchy=false>(</mo><mn>7</mn><mo stretchy=false>)</mo></math></div></p><p class="" id=d1596e1244>The revenue is the bill that customers would pay for using the energy during the time window H:</p><p class="" id=d1596e1247><a name=e8 class=n-a></a><div class="disp-formula panel"><math display=block id=math8 overflow=scroll><mrow><mi>R</mi><mo>=</mo><mstyle displaystyle=true><munderover><mo></mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi>H</mi></munderover><mrow><mo stretchy=false>(</mo><msub><mi>L</mi><mi>t</mi></msub><mspace width="0.1em"></mspace><mo>*</mo><mspace width="0.1em"></mspace><msub><mi>P</mi><mi>t</mi></msub><mo stretchy=false>)</mo></mrow></mstyle></mrow><mspace width="13.8em"></mspace><mo stretchy=false>(</mo><mn>8</mn><mo stretchy=false>)</mo></math></div></p><p class="" id=d1596e1295>Usually, there exists a total revenue cap, denoted as <i>R<sub>max</sub></i>, for the retailer. Therefore, we need to add the revenue constraint to improve the acceptability of the retailers pricing strategies, i.e., without such a constraint, the retail prices will keep going up to a level which is against energy regulations as well as financially unacceptable to the customers. As a result, we have the following constraint:</p><p class="" id=d1596e1303><a name=e9 class=n-a></a><div class="disp-formula panel"><math display=block id=math9 overflow=scroll><mrow><mi>R</mi><mo>&lt;</mo><msub><mi>R</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub></mrow><mspace width="16.8em"></mspace><mo stretchy=false>(</mo><mn>9</mn><mo stretchy=false>)</mo></math></div></p><p class="" id=d1596e1329>Moreover, for each timestep <i>t</i>  <i>H</i>, we define the minimum and maximum price that the retailer (utility company) can offer <i>P<sub>t,min</sub></i> and <i>P<sub>t,max</sub></i>, we have:</p><p class="" id=d1596e1349><a name=e10 class=n-a></a><div class="disp-formula panel"><math display=block id=math10 overflow=scroll><mrow><msub><mi>P</mi><mrow><mi>t</mi><mo>,</mo><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub><mo></mo><msub><mi>P</mi><mi>t</mi></msub><mo></mo><msub><mi>P</mi><mrow><mi>t</mi><mo>,</mo><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mtext>,</mtext><mspace width=1em></mspace><mo></mo><mi>t</mi><mspace width="0.2em"></mspace><mo></mo><mspace width="0.2em"></mspace><mi>H</mi></mrow><mspace width="7.8em"></mspace><mo stretchy=false>(</mo><mn>10</mn><mo stretchy=false>)</mo></math></div></p><p class="" id=d1596e1412><i>P<sub>t,min</sub></i> and <i>P<sub>t,max</sub></i> are usually designed based on historical prices, market competition, customers acceptability, and the wholesale price. It is reasonable to assume that the price the retailers can offer is greater than the wholesale price for each hour, and there exists a price cap for the retail prices due to retail market competition.</p><p class="" id=d1596e1424>Finally, the control problem defined the optimization of the price vector P, during the time horizon H, can be modeled as follows:</p><p class="" id=d1596e1427><a name=e11 class=n-a></a><div class="disp-formula panel"><math display=block id=math11 overflow=scroll><mrow><mi>m</mi><mi>a</mi><msub><mi>x</mi><mi>P</mi></msub><mspace width=1em></mspace><mo stretchy=false>{</mo><mi>R</mi><mo></mo><mstyle displaystyle=true><munderover><mo></mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi>H</mi></munderover><mrow><msub><mi>C</mi><mi>t</mi></msub><mo stretchy=false>(</mo><msub><mi>L</mi><mi>t</mi></msub><mo stretchy=false>)</mo></mrow></mstyle><mo stretchy=false>}</mo></mrow><mspace width="11.3em"></mspace><mo stretchy=false>(</mo><mn>11</mn><mo stretchy=false>)</mo></math></div></p><p class="" id=d1596e1485>subject to constraints:</p><p class="" id=d1596e1488><a name=e12 class=n-a></a><div class="disp-formula panel"><math display=block id=math12 overflow=scroll><mrow><mi>R</mi><mo>&lt;</mo><msub><mi>R</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub></mrow><mspace width="17.4em"></mspace><mo stretchy=false>(</mo><mn>12</mn><mo stretchy=false>)</mo></math></div></p><p class="" id=d1596e1515><a name=e13 class=n-a></a><div class="disp-formula panel"><math display=block id=math13 overflow=scroll><mrow><msub><mi>L</mi><mi>t</mi></msub><mo></mo><msub><mi>L</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub></mrow><mspace width="17.3em"></mspace><mo stretchy=false>(</mo><mn>13</mn><mo stretchy=false>)</mo></math></div></p><p class="" id=d1596e1544><a name=e14 class=n-a></a><div class="disp-formula panel"><math display=block id=math14 overflow=scroll><mrow><msub><mi>P</mi><mrow><mi>t</mi><mo>,</mo><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo></mo><msub><mi>P</mi><mi>t</mi></msub><mo></mo><msub><mi>P</mi><mrow><mi>t</mi><mo>,</mo><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mtext>,</mtext><mspace width="1.5em"></mspace><mo></mo><mi>t</mi><mspace width="0.2em"></mspace><mo></mo><mspace width="0.2em"></mspace><mi>H</mi></mrow><mspace width="7.2em"></mspace><mo stretchy=false>(</mo><mn>14</mn><mo stretchy=false>)</mo></math></div></p></div></div><div id=article1-body class=generated-article-body><h2 class=main-title id=d1596e1611>Methods and implementation</h2><p class="" id=d1596e1614>Given the partial observability of this problem, the methods proposed in this paper are nondeterministic. An LSTM network is used to estimate the next states given an initial state and a pricing policy. The method consists of learning the individual behavior of each TCL agent <i>n</i> using an LSTM method as illustrated in <a href="#ref-13">13</a>. The N estimation models will predict the reaction <i>L<sub>n,t</sub></i><sub>+1</sub> of each TCL to a state <i>x</i> and a pricing action <i>P<sub>t</sub></i>. The overall estimated load <i>L<sub>t</sub></i> is the sum of all the load predictions as in (<a href="#e7">7</a>). Given this estimation model, we apply a genetic algorithm to find the best pricing policy.</p><div class=section><a name=d1596e1647 class=n-a></a><h3 class=section-title>LSTM networks for state estimation</h3><p class="" id=d1596e1652>LSTM networks are recurrent neural networks that consist of memory blocks. These memory blocks replace the summation units in the hidden layers in a standard recurrent neural network. The input vector and the hidden state vector are passed through the forget gate to determine the keeping rate of the cell state components. The same vector is passed through the input gate to determine how much of the new state candidate <b><i><span style="text-decoration: underline">C</span></i></b> can pass to the new cell state. Finally, the output gate will decide how much of the transformed state cell vector can be passed to the next hidden state vector <b><i><span style="text-decoration: underline">h<sub>t</sub></span></i></b>. Following <a href="#ref-13">13</a>, the proposed LSTM network consists of multiple layers of LSTM cells followed by a fully connected layer as illustrated in <a href="#f1">Figure 1</a>. In the case of our model, the input <i>I<sub>n,t</sub></i> is a 2 x 3 matrix that consists of the electric loads, the temperatures and the electricity prices as follows:</p><a name=f1 class=n-a></a><div class="fig panel clearfix"><a target=_blank href="https://f1000researchdata.s3.amazonaws.com/manuscripts/22445/60ec456e-0949-4e28-9b53-bef3cc7b5199_figure1.gif"><img alt="60ec456e-0949-4e28-9b53-bef3cc7b5199_figure1.gif" src="https://f1000researchdata.s3.amazonaws.com/manuscripts/22445/60ec456e-0949-4e28-9b53-bef3cc7b5199_figure1.gif"></a><div class=caption><h3>Figure 1. LSTM Network for TCLs load prediction.</h3><p id=d1596e1688>The model uses the information about temperatures, loads and price in the previous timesteps to predict the load L(t). Since this is a regressions problem, the fully connected layer uses a linear activation function.</p></div></div><p class="" id=d1596e1695><a name=e15 class=n-a></a><div class="disp-formula panel"><math display=block id=math15 overflow=scroll><mrow><msub><mi>I</mi><mrow><mi>n</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>=</mo><mo stretchy=false>(</mo><mtable><mtr><mtd><mrow><msub><mi>L</mi><mrow><mi>n</mi><mo>,</mo><mi>t</mi><mo></mo><mn>1</mn></mrow></msub><mo>,</mo><msub><mi>T</mi><mrow><mi>t</mi><mo></mo><mn>1</mn></mrow></msub><mo>,</mo><msub><mi>P</mi><mi>t</mi></msub></mrow></mtd></mtr><mtr><mtd><mrow><msub><mi>L</mi><mrow><mi>n</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>,</mo><msub><mi>T</mi><mi>t</mi></msub><mo>,</mo><msub><mi>P</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></mtd></mtr></mtable><mo stretchy=false>)</mo></mrow><mspace width="11.5em"></mspace><mo stretchy=false>(</mo><mn>15</mn><mo stretchy=false>)</mo></math></div></p><p class="" id=d1596e1792>The LSTM network recurrently uses the historical information of loads, temperatures and prices to predict electric load for an individual TCL <i>n</i>, in the next timestep. The aggregation of these predictions gives an approximation of <i>g</i> function mentioned in the previous section.</p><p class="" id=d1596e1802>Initially, for each TCL agent <i>n</i>  <i>N</i> we train an LSTM network based on the historical reactions of these TCLs to prices and temperatures. We assume that a DR program is implemented during a long period, enough to collect a sufficient amount of data related to the reactions of TCL agents to prices and temperatures.</p></div><div class=section><a name=d1596e1812 class=n-a></a><h3 class=section-title>Genetic algorithms for price optimization</h3><p class="" id=d1596e1817>Due to the discontinuous nature of the objective function and the complicated dependency between the function electric load <i>L</i> and the electricity prices <i>P</i>, the conventional nonlinear optimization methods are not usable for this problem. Therefore, GA-based optimization algorithms are more suited for this problem<sup><a href="#ref-37">37</a></sup>. The proposed GA algorithm uses rank selection and value encoding<sup><a href="#ref-38">38</a></sup>. Each chromosome represents a pricing policy <i>P</i> and consists of a vector of size <i>H</i>. We use uniform crossover<sup><a href="#ref-39">39</a></sup> and non-uniform mutation<sup><a href="#ref-40">40</a></sup>. The constraints are handled by the approach proposed in <a href="#ref-41">41</a>.</p><p class="" id=d1596e1852>The proposed GA-based optimization algorithms for TCL pricing control are given in <a href="#A1">Algorithm 1</a> and <a href="#A2">Algorithm 2</a>.</p><a name=A1 class=n-a></a><div class="boxed-text panel clearfix"><div class=caption><h3>Algorithm 1. GA-based optimization algorithm for TCL pricing control.</h3></div><p class="" id=d1596e1871>1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Population Initialization, i.e., generating a population of <i>PN</i> chromosomes randomly; each chromosome denotes a pricing policy for the next time horizon H.</p><p class="" id=d1596e1877>2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>for</b> i=1 to <i>PN</i> <b>do</b></p><p class="" id=d1596e1888>3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Concatenate the price vector to the temperature forecasts of the next time horizon.</p><p class="" id=d1596e1892>4:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>for</b> each TCL agent n in N <b>do</b>:</p><p class="" id=d1596e1901>5:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use LSTM network iteratively to predict (<i>L<sub>n,t</sub></i>)<i><sub>tH</sub></i> using <a href="#A2">Algorithm 2</a>.</p><p class="" id=d1596e1916>6:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>end for</b></p><p class="" id=d1596e1921>7:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Calculate <i>L<sub>t</sub></i>, <i>C<sub>t</sub></i>(<i>L<sub>t</sub></i>) <i>t</i>  <i>H</i>, and <i>R</i></p><p class="" id=d1596e1948>8:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check the feasibility of policy <i>P</i> regarding the constraints. Handle the invalid individuals by the approach proposed in []. Then calculate the fitness value of policy <i>P.</i></p><p class="" id=d1596e1956>9:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>end for</b></p><p class="" id=d1596e1962>10:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new generation of chromosomes by using the selection, crossover, and mutation operations of the GA.</p><p class="" id=d1596e1965>11:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Repeat steps 211 until the stopping condition is reached.</p><p class="" id=d1596e1968>12:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Announce the best price vector via the two-way communication infrastructure at the beginning of the control horizon.</p></div><a name=A2 class=n-a></a><div class="boxed-text panel clearfix"><div class=caption><h3>Algorithm 2. Individual TCL load prediction using LSTM network.</h3></div><p class="" id=d1596e1982>1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Build the initial input matrix <i>I<sub>n</sub></i><sub>,0</sub> using the initial values of prices, loads and temperatures.</p><p class="" id=d1596e1992>2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>for</b> t=0 to H <b>do</b></p><p class="" id=d1596e2000>3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use the input matrix <i>I<sub>n,t</sub></i> to predict <i>L<sub>n,t</sub></i><sub>+1</sub></p><p class="" id=d1596e2015>4:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Concatenate L, T and P with the last line of the input matrix <i>I<sub>n,t</sub></i> to build the next input matrix:</p><p class="" id=d1596e2023><a name=e16 class=n-a></a><div class="disp-formula panel"><math display=block id=math overflow=scroll><mrow><msub><mi>I</mi><mrow><mi>n</mi><mo>,</mo><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mo stretchy=false>(</mo><mtable><mtr><mtd><mrow><msub><mi>L</mi><mrow><mi>n</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>,</mo><msub><mi>T</mi><mi>t</mi></msub><mo>,</mo><msub><mi>P</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></mtd></mtr><mtr><mtd><mrow><msub><mi>L</mi><mrow><mi>n</mi><mo>,</mo><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>,</mo><msub><mi>T</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>,</mo><msub><mi>P</mi><mrow><mi>t</mi><mo>+</mo><mn>2</mn></mrow></msub></mrow></mtd></mtr></mtable><mo stretchy=false>)</mo></mrow></math></div></p><p class="" id=d1596e2122>5:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>end for</b></p><p class="" id=d1596e2127>6:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>return</b> (<i>L<sub>n,t</sub></i>)<i><sub>tH</sub></i></p></div><p class="" id=d1596e2143>In <a href="#A1">Algorithm 1</a>, we initialize a population of NP pricing policies at step 1. For each policy <i>P</i> we perform steps 26 to evaluate the fitness function and the feasibility for each policy. The evaluation of policies is performed using LSTM sequence prediction presented in <a href="#A2">Algorithm 2</a>. The best policies are selected, and a new generation is created using crossover and mutation operations in step 10. This process is repeated until a stopping condition or maximum number of iterations is reached. At the end of the optimization process, the best pricing policy is selected, and prices are announced to TCL agents via two-way communications technology. After each control episode, the LSTM learning models are updated according to the new data collected from the actual response to the implemented electricity prices.</p></div></div><div id=article1-body class=generated-article-body><h2 class=main-title id=d1596e2159>Results</h2><p class="" id=d1596e2162>In this section we evaluate the functionality of the proposed pricing control methods. A set of numerical experiments were performed on a simulation scenario comprising a population of 30 TCLs exposed to dynamic electricity prices during a period where the outdoor temperatures change significantly. The thermal inertia of each TCL allows the electric demand to be shifted towards lower price moments. The TCL agents determine the amount of electricity to be consumed at each timestep according to the indoor temperature and the electricity prices. The objective of TCL agents is to maintain a reasonable comfort level while minimizing the electricity bill. Therefore, the different TCL agents have different reactions given a set of prices and temperatures depending on individual users preferences and buildings characteristics. We define a control timestep of 1 hour and a control horizon of 6 hours. The choice of the control horizon is justified by the limited ability of LSTM to predict large sequences of the future electric loads. The control horizon is chosen in a way that minimizes the number of times the retailer runs the control algorithms and announces the prices, while keeping a good accuracy of the LSTM predictions.</p><div class=section><a name=d1596e2165 class=n-a></a><h3 class=section-title>Simulation data</h3><p class="" id=d1596e2170>Following <a href="#ref-13">13</a> the simulation data is generated using two fuzzy logic systems with the following assumptions:</p><div class=list><a name=d1596e2176 class=n-a></a><ul><li><p id=d1596e2180>The TCL agents are reacting to indoor temperatures and electricity prices.</p></li><li><p id=d1596e2186>The difference between the outdoor and indoor temperature <i>T</i> depends on the building characteristics and the amount of energy spent in heating/cooling in previous timesteps.</p></li></ul></div><p class="" id=d1596e2194>TCL agents are operating during the day to maintain a comfortable temperature of the space while taking into consideration the electricity price in a given hour. Fuzzy logic is used in this problem because it can model non-qualitative concepts like hot temperature or low price. The combination of the two fuzzy logic systems delivers the load <i>L<sub>n,t</sub></i><sub>+1</sub> using the outdoor temperature <i>T<sub>t</sub></i> and the electricity price <i>P<sub>t</sub></i><sub>+1</sub>. The simulation is performed with different parameters to generate diverse data for 30 TCL agents. The temperature and price data used for the simulation are taken respectively from the <i>Kaisaniemi</i> observation station in Helsinki, available online in <a href="#ref-42">42</a>, and <i>Elspot DA</i> electricity prices in Finland<sup><a href="#ref-43">43</a></sup> for the period between 1<sup>st</sup> January 2017 and the 7th September 2018. The generated dataset consists of 14,734 data points for each TCL agent.</p></div><div class=section><a name=d1596e2234 class=n-a></a><h3 class=section-title>LSTM networks results</h3><p class="" id=d1596e2239>The data generated from the above-mentioned simulations is used to train the LSTM networks to learn the behavior of each individual TCL agent. The hyperparameters and structure of the LSTM networks are chosen according to the results of <a href="#ref-13">13</a> and summarized in <a href="#T1">Table 1</a>.</p><a name=T1 class=n-a></a><div class="table-wrap panel clearfix"><div class=caption><h3>Table 1. Results of LSTM model hyperparameters optimization.</h3></div><table xmlns:ali="http://www.niso.org/schemas/ali/1.0/" xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" class=article-table frame=below><a name=d1596e2259 class=n-a></a><tbody><a name=d1596e2261 class=n-a></a><tr><a name=d1596e2263 class=n-a></a><td align=left colspan=1 rowspan=1><a name=d1596e2265 class=n-a></a>Sequence length</td><td align=left colspan=1 rowspan=1><a name=d1596e2268 class=n-a></a>2</td></tr><tr><a name=d1596e2271 class=n-a></a><td align=left colspan=1 rowspan=1><a name=d1596e2273 class=n-a></a>LSTM cell size</td><td align=left colspan=1 rowspan=1><a name=d1596e2276 class=n-a></a>30</td></tr><tr><a name=d1596e2279 class=n-a></a><td align=left colspan=1 rowspan=1><a name=d1596e2281 class=n-a></a>LSTM cells</td><td align=left colspan=1 rowspan=1><a name=d1596e2284 class=n-a></a>2</td></tr><tr><a name=d1596e2287 class=n-a></a><td align=left colspan=1 rowspan=1><a name=d1596e2289 class=n-a></a>Dropout</td><td align=left colspan=1 rowspan=1><a name=d1596e2292 class=n-a></a>0.2</td></tr><tr><a name=d1596e2295 class=n-a></a><td align=left colspan=1 rowspan=1><a name=d1596e2297 class=n-a></a>Activation</td><td align=left colspan=1 rowspan=1><a name=d1596e2300 class=n-a></a>tanh</td></tr><tr><a name=d1596e2304 class=n-a></a><td align=left colspan=1 rowspan=1><a name=d1596e2306 class=n-a></a>Recurrent activation</td><td align=left colspan=1 rowspan=1><a name=d1596e2309 class=n-a></a>selu</td></tr><tr><a name=d1596e2312 class=n-a></a><td align=left colspan=1 rowspan=1><a name=d1596e2314 class=n-a></a>Optimizer</td><td align=left colspan=1 rowspan=1><a name=d1596e2317 class=n-a></a>rmsprop</td></tr></tbody></table></div><p class="" id=d1596e2323>The results are evaluated using validation data generated from the same simulations. <a href="#f2">Figure 2a</a> illustrates the learning results for three TCL agents during different time periods with different temperatures and prices. <a href="#f2">Figure 2b</a> illustrates the comparison between the real and predicted average power consumption of the 30 TCL agents cluster. The power curves show that the TCL agents responses to prices and temperatures are slightly different. In general, the power consumption is high when the temperatures and electricity prices are low and vice-versa. The comparison between the true load curves and the predicted load curves show a very small prediction error per hour in most cases. The true and predicted load curves have similar shapes and significant resemblances. The peaks and valleys are also predicted accurately in most of the cases, which gives a valuable insight for demand side management.</p><a name=f2 class=n-a></a><div class="fig panel clearfix"><a target=_blank href="https://f1000researchdata.s3.amazonaws.com/manuscripts/22445/60ec456e-0949-4e28-9b53-bef3cc7b5199_figure2.gif"><img alt="60ec456e-0949-4e28-9b53-bef3cc7b5199_figure2.gif" src="https://f1000researchdata.s3.amazonaws.com/manuscripts/22445/60ec456e-0949-4e28-9b53-bef3cc7b5199_figure2.gif"></a><div class=caption><h3>Figure 2. LSTM Learning results.</h3><p id=d1596e2342>(<b>a</b>) Power consumption of different TCL agents in response to electricity prices and outdoor temperatures. (<b>b</b>) Average real and predicted power consumption of the cluster surrounded by an envelope containing 9% of the power consumption profiles for different days.</p></div></div></div><div class=section><a name=d1596e2356 class=n-a></a><h3 class=section-title>GA Optimization results</h3><p class="" id=d1596e2361> We run the GA optimization algorithm on a population of size 100 for 100 iterations. The parameters used for the optimization are summarized in <a href="#T2">Table 2</a>. The optimization process is graphically presented in <a href="#f3">Figure 3</a>. The learning process is measured by the fitness of the best individual in the population at each iteration. <a href="#f4">Figure 4</a> illustrates the results of the best pricing solutions for one day. <a href="#f4">Figure 4a</a> is an illustration of the electricity prices fluctuations during the 24 hours. <a href="#f4">Figure 4b</a> shows a comparison between the power consumption of the whole cluster under original prices and the power consumption under optimized prices. <a href="#f4">Figure 4c</a> presents the revenue and profit that the retailer would make under original and optimized prices. <a href="#f4">Figure 4d</a> presents daily bill of each user of the cluster under original and optimized prices.</p><a name=T2 class=n-a></a><div class="table-wrap panel clearfix"><div class=caption><h3>Table 2. Optimization parameters.</h3></div><table xmlns:ali="http://www.niso.org/schemas/ali/1.0/" xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" class=article-table frame=below><a name=d1596e2397 class=n-a></a><tbody><a name=d1596e2399 class=n-a></a><tr><a name=d1596e2401 class=n-a></a><td align=left colspan=1 rowspan=1><a name=d1596e2403 class=n-a></a>PN</td><td align=left colspan=1 rowspan=1><a name=d1596e2406 class=n-a></a>100</td></tr><tr><a name=d1596e2409 class=n-a></a><td align=left colspan=1 rowspan=1><a name=d1596e2411 class=n-a></a><i>L<sub>max</sub></i></td><td align=left colspan=1 rowspan=1><a name=d1596e2417 class=n-a></a>75.0 kWh</td></tr><tr><a name=d1596e2420 class=n-a></a><td align=left colspan=1 rowspan=1><a name=d1596e2422 class=n-a></a>q</td><td align=left colspan=1 rowspan=1><a name=d1596e2425 class=n-a></a>0.01 <i>cents</i>/[<i>kWh</i>]<sup>2</sup></td></tr><tr><a name=d1596e2437 class=n-a></a><td align=left colspan=1 rowspan=1><a name=d1596e2439 class=n-a></a>c</td><td align=left colspan=1 rowspan=1><a name=d1596e2442 class=n-a></a>1.0 cents</td></tr><tr><a name=d1596e2445 class=n-a></a><td align=left colspan=1 rowspan=1><a name=d1596e2447 class=n-a></a><i>P<sub>t,min</sub></i></td><td align=left colspan=1 rowspan=1><a name=d1596e2453 class=n-a></a><i>p<sub>t</sub></i></td></tr><tr><a name=d1596e2460 class=n-a></a><td align=left colspan=1 rowspan=1><a name=d1596e2462 class=n-a></a><i>P<sub>t,max</sub></i></td><td align=left colspan=1 rowspan=1><a name=d1596e2468 class=n-a></a>2*<i>p<sub>t</sub></i></td></tr><tr><a name=d1596e2475 class=n-a></a><td align=left colspan=1 rowspan=1><a name=d1596e2477 class=n-a></a><i>R<sub>max</sub></i></td><td align=left colspan=1 rowspan=1><a name=d1596e2483 class=n-a></a>N*H*5.5 cents</td></tr></tbody></table></div><a name=f3 class=n-a></a><div class="fig panel clearfix"><a target=_blank href="https://f1000researchdata.s3.amazonaws.com/manuscripts/22445/60ec456e-0949-4e28-9b53-bef3cc7b5199_figure3.gif"><img alt="60ec456e-0949-4e28-9b53-bef3cc7b5199_figure3.gif" src="https://f1000researchdata.s3.amazonaws.com/manuscripts/22445/60ec456e-0949-4e28-9b53-bef3cc7b5199_figure3.gif"></a><div class=caption><h3>Figure 3. Learning process of a population of size 100.</h3></div></div><a name=f4 class=n-a></a><div class="fig panel clearfix"><a target=_blank href="https://f1000researchdata.s3.amazonaws.com/manuscripts/22445/60ec456e-0949-4e28-9b53-bef3cc7b5199_figure4.gif"><img alt="60ec456e-0949-4e28-9b53-bef3cc7b5199_figure4.gif" src="https://f1000researchdata.s3.amazonaws.com/manuscripts/22445/60ec456e-0949-4e28-9b53-bef3cc7b5199_figure4.gif"></a><div class=caption><h3>Figure 4. Results comparison of original and optimized pricing policy.</h3><p id=d1596e2513>(<b>a</b>) Optimized prices solution for 24 hours. (<b>b</b>) Revenue and profit under original and optimized prices for 24 hours. (<b>c</b>) Total electricity consumption under original and optimized prices. (<b>d</b>) Daily electricity bills under original and optimized prices.</p></div></div><p class="" id=d1596e2533>The results show a general increase in prices throughout the day. However, this increase didnt result in an increase in the daily electricity bills. Most of customers will be paying a slightly lower amount per day. This is a consequence of upper limit constraint on the revenue described in (<a href="#e12">12</a>). The overall consumption of electricity was decreased comparing to the original pricing scheme which gives a good idea about the potential energy saving that an optimal pricing strategy can offer.</p></div><div class=section><a name=d1596e2541 class=n-a></a><h3 class=section-title>Comparison with a theoretical benchmark</h3><p class="" id=d1596e2546>In order to validate the performance of the proposed algorithm, we consider a case where we have a full access to TCL units behavior, i.e. the exact electricity consumption of each TCL unit given temperatures and prices at each timestep. The optimization is performed with direct access to the simulation model described above, which provides full observability and perfect information about the TCLs. This theoretical setup can serve as a benchmark of our method. It can be seen as an upper limit on the profit possibly made by the aggregator without violating the constraints.</p><p class="" id=d1596e2549>The results illustrated in <a href="#f5">Figure 5ad</a>, show that the proposed methods have performed very similarly to the benchmark. The hourly prices in <a href="#f5">Figure 5a</a>, are only slightly shifted from the benchmark prices during most of the day. The difference is only significant in 2 to 3 points. The same observation can be made for the revenues and profits in <a href="#f5">Figure 5b</a> and electricity consumption in <a href="#f5">Figure 5c</a>. The comparison of daily bills under optimized prices and benchmark prices in <a href="#f5">Figure 5d</a> shows a slight rise in the electricity bill in the benchmark model for most customers. This can be explained by the slight increase in prices illustrated in <a href="#f5">Figure 5a</a>.</p><a name=f5 class=n-a></a><div class="fig panel clearfix"><a target=_blank href="https://f1000researchdata.s3.amazonaws.com/manuscripts/22445/60ec456e-0949-4e28-9b53-bef3cc7b5199_figure5.gif"><img alt="60ec456e-0949-4e28-9b53-bef3cc7b5199_figure5.gif" src="https://f1000researchdata.s3.amazonaws.com/manuscripts/22445/60ec456e-0949-4e28-9b53-bef3cc7b5199_figure5.gif"></a><div class=caption><h3>Figure 5. Results comparison of optimized and benchmark pricing policy.</h3><p id=d1596e2581> (<b>a</b>) Comparison between benchmark and optimized prices. (<b>b</b>) Hourly revenues and profits under optimized prices and benchmark prices. (<b>c</b>) Hourly total electricity consumption under optimized prices and benchmark prices. (<b>d</b>) Daily electricity bills under optimized and benchmark prices.</p></div></div><p class="" id=d1596e2600>The daily revenues and profits under original, optimized and benchmark prices are compared in <a href="#f6">Figure 6</a>. The comparison shows a closely similar revenue in the three cases. The optimized prices have given a slightly smaller revenue compared to the revenue from original and benchmark prices. However, the profit from original prices is considerably smaller than the profit from optimized prices. The latter is only slightly smaller than the benchmarks profit. Numerically, the profit from the proposed methods is 95.97% of the optimal benchmark profit. This observation shows that an increase in the profit can be made without an increase in the revenue when the prices are optimized correctly.</p><a name=f6 class=n-a></a><div class="fig panel clearfix"><a target=_blank href="https://f1000researchdata.s3.amazonaws.com/manuscripts/22445/60ec456e-0949-4e28-9b53-bef3cc7b5199_figure6.gif"><img alt="60ec456e-0949-4e28-9b53-bef3cc7b5199_figure6.gif" src="https://f1000researchdata.s3.amazonaws.com/manuscripts/22445/60ec456e-0949-4e28-9b53-bef3cc7b5199_figure6.gif"></a><div class=caption><h3>Figure 6. Daily revenues and profits under original, optimized and benchmark prices.</h3></div></div></div></div><div id=article1-body class=generated-article-body><h2 class=main-title id=d1596e2625>Discussion and conclusion</h2><p class="" id=d1596e2628>In this paper, we demonstrated the effectiveness of a new TCL control using electricity price proxies. The control policy consists of a sequence of prices influencing the electricity consumption from TCLs. The problem was formulated as a Markov decision process with non-Markovian state to handle the sparse observations of the TCL clusters state. We extend the observable state with sequences of past observations to approximate the transition function using an LSTM architecture. The LSTM network is used to capture the individual behavior of TCLs under price-based DR. The individual models are aggregated to approximate the next state of the cluster. This approximation is used iteratively in a genetic algorithm to evaluate the potential profit from an energy arbitrage operation and find the optimal pricing policy for a given control horizon. The LSTM models are updated every 24 hours to capture the changes in the TCL units behavior.</p><p class="" id=d1596e2631>The experiment consists of a retailer agent buying electricity from the wholesale market and selling it to a group of residential TCLs. The agent can only measure the electricity consumption of each TCL and the outside temperature. The agent has access to a significant amount of historical data from an already implemented DR program. Which allows it to train the LSTM models for each TCL unit and perform an optimization on the electricity prices.</p><p class="" id=d1596e2634>We first evaluate the performance of the LSTM network by comparing the real and predicted loads from 30 TCL units during different days. The predicted load profiles are closely similar to the real load profiles both at individual and aggregate level. The optimization relies on a genetic algorithm with a profit maximization objective. The results of the optimization show that the proposed methods offer a much higher daily profit than the original prices and 95.97% of the optimal profit from a model that has full observation of the state.</p><p class="" id=d1596e2637>The flexibility offered by TCLs is a high potential for ancillary services required for a deep integration of renewable energy sources in the grid. An energy arbitrage operation can offer a service to the grid by exploiting this flexibility using direct or indirect control. The partially observable state and the uncertainty of the TCL response to prices was tackled in this paper with an LSTM network using past observations and actions. The LSTM network offered a high performance by extracting relevant features of the hidden state using its internal memory cell, allowing it to process sequences of sparse observations to learn the hidden patterns of power consumption.</p></div><div id=article1-body class=generated-article-body><h2 class=main-title id=d1596e2643>Data availability</h2><div class=section><a name=d1596e2646 class=n-a></a><h3 class=section-title>Underlying data</h3><p class="" id=d1596e2651>Figshare: LSTM+GA data, <a target=xrefwindow href="https://doi.org/10.6084/m9.figshare.9746786.v1" id=d1596e2653>https://doi.org/10.6084/m9.figshare.9746786.v1</a><sup><a href="#ref-44">44</a></sup>.</p><p class="" id=d1596e2660>This project contains the following underlying data:</p><div class=list><a name=d1596e2663 class=n-a></a><ul><li><p id=d1596e2667>Data used by the fuzzy logic simulation model such as temp_prices and temperatures.</p></li><li><p id=d1596e2673>Data generated by the fuzzy simulator such as fuzzy_outxx.csv and used to train the LSTM models.</p></li><li><p id=d1596e2679>Data related to the optimization process such as results and GA_pricing, optimized_prices_loads</p></li></ul></div><p class="" id=d1596e2684>Data are available under the terms of the <a target=xrefwindow href="https://creativecommons.org/licenses/by/4.0/legalcode" id=d1596e2686>Creative Commons Attribution 4.0 International license</a> (CC-BY 4.0).</p></div></div><div id=article1-body class=generated-article-body><h2 class=main-title id=d1596e2695>Software availability</h2><p class="" id=d1596e2698>Code for analysis available from: <a target=xrefwindow href="https://github.com/tahanakabi/Optimal-Price-Based-control-of-heterogeneous-thermostatically-controlled-loads-under-uncertainty-usi" id=d1596e2700>https://github.com/tahanakabi/Optimal-Price-Based-control-of-heterogeneous-thermostatically-controlled-loads-under-uncertainty-usi</a></p><p class="" id=d1596e2703>Archived code as at time of publication: <a target=xrefwindow href="http://doi.org/10.5281/zenodo.3383615" id=d1596e2705>http://doi.org/10.5281/zenodo.3383615</a><sup><a href="#ref-45">45</a></sup></p><p class="" id=d1596e2711>License: MIT</p></div><div id=article1-back class=generated-article-footer><div class=back-section><a name=d1596e2718 class=n-a></a><h2 class=main-title id=d1869>Footnotes</h2><div class=footnote><a name=FN1 class=n-a></a><p id=d1596e2724> <sup>1</sup>This work was supported by The Jenny and Antti Wihuri Foundation, FINLAND.</p></div></div><div class=back-section><a name=d1596e2731 class=n-a></a><span class="research-layout prime-recommended-wrapper reference-heading is-hidden"><span class="f1r-icon icon-79_faculty_recommended_badge red vmiddle default-cursor"></span><span class="prime-red big">F1000 recommended</span></span><h2 class=main-title id=d1962>References</h2><div class="section ref-list"><a name=d1596e2731 class=n-a></a><ul><li><a name=ref-1 class=n-a></a><span class=label>1. </span>&nbsp;<span class=citation><a name=d1596e2738 class=n-a></a>Halamay DA, Brekken TKA, Simmons A, <i> et al.</i>: Reserve requirement impacts of large-scale integration of wind, solar, and ocean wave power generation. 2010. <a target=xrefwindow id=d1596e2743 href="https://doi.org/10.1109/PES.2010.5590203">Publisher Full Text </a></span></li><li><a name=ref-2 class=n-a></a><span class=label>2. </span>&nbsp;<span class=citation><a name=d1596e2752 class=n-a></a>Mathieu JL, Kamgarpour M, Lygeros J, <i> et al.</i>: Arbitraging Intraday Wholesale Energy Market Prices With Aggregations of Thermostatic Loads. <i>IEEE Transactions on Power Systems.</i> 2015; <b>30</b>(2): 763772. <a target=xrefwindow id=d1596e2763 href="https://doi.org/10.1109/TPWRS.2014.2335158">Publisher Full Text </a></span></li><li><a name=ref-3 class=n-a></a><span class=label>3. </span>&nbsp;<span class=citation><a name=d1596e2772 class=n-a></a>D&amp;R International, Ltd.: 2011 Buildings Energy Data Book. 2012. <a target=xrefwindow id=d1596e2774 href="https://ieer.org/wp/wp-content/uploads/2012/03/DOE-2011-Buildings-Energy-DataBook-BEDB.pdf">Reference Source</a></span></li><li><a name=ref-4 class=n-a></a><span class=label>4. </span>&nbsp;<span class=citation><a name=d1596e2783 class=n-a></a>U. E. I. Administration: U.S. Energy Information Administration. 2010. <a target=xrefwindow id=d1596e2785 href="https://www.eia.gov/totalenergy/data/annual/archive/038410.pdf">Reference Source</a></span></li><li><a name=ref-5 class=n-a></a><span class=label>5. </span>&nbsp;<span class=citation><a name=d1596e2794 class=n-a></a>Mathieu JL, Kamgarpour M, Lygeros J, <i> et al.</i>: Energy arbitrage with thermostatically controlled loads. 2013. [Accessed 11 6 2019]. <a target=xrefwindow id=d1596e2799 href="https://doi.org/10.23919/ECC.2013.6669582">Publisher Full Text </a></span></li><li><a name=ref-6 class=n-a></a><span class=label>6. </span>&nbsp;<span class=citation><a name=d1596e2809 class=n-a></a>Maasoumy M, Razmara M, Shahbakhti M, <i> et al.</i>: Selecting building predictive control based on model uncertainty. 2014. [Accessed 11 6 2019]. <a target=xrefwindow id=d1596e2814 href="https://doi.org/10.1109/ACC.2014.6858875">Publisher Full Text </a></span></li><li><a name=ref-7 class=n-a></a><span class=label>7. </span>&nbsp;<span class=citation><a name=d1596e2823 class=n-a></a>Koch S, Mathieu JL, Callaway DS: Modeling and Control of Aggregated Heterogeneous Thermostatically Controlled Loads for Ancillary Services. 2011. [Accessed 11 6 2019]. <a target=xrefwindow id=d1596e2825 href="https://pdfs.semanticscholar.org/7cc2/03c7d959b2e182ec473ecc49fedb2f3bc39b.pdf">Reference Source</a></span></li><li><a name=ref-8 class=n-a></a><span class=label>8. </span>&nbsp;<span class=citation><a name=d1596e2834 class=n-a></a>Saha A, Kuzlu M, Pipattanasomporn M, <i> et al.</i>: Enabling Residential Demand Response Applications with a ZigBee-Based Load Controller System. 2016; <b>2</b>(4): 303318. [Accessed 11 6 2019]. <a target=xrefwindow id=d1596e2842 href="https://doi.org/10.1007/s40903-016-0059-4">Publisher Full Text </a></span></li><li><a name=ref-9 class=n-a></a><span class=label>9. </span>&nbsp;<span class=citation><a name=d1596e2851 class=n-a></a>Verbong GPJ, Beemsterboer S, Sengers F: Smart grids or smart users? Involving users in developing a low carbon electricity economy. <i>Energy Policy.</i> 2013; <b>52</b>: 117125. <a target=xrefwindow id=d1596e2859 href="https://doi.org/10.1016/j.enpol.2012.05.003">Publisher Full Text </a></span></li><li><a name=ref-10 class=n-a></a><span class=label>10. </span>&nbsp;<span class=citation><a name=d1596e2868 class=n-a></a>Yan X, Ozturk Y, Hu Z, <i> et al.</i>: A review on price-driven residential demand response. <i>Renew Sust Energ Rev.</i> 2018; <b>96</b>: 411419. <a target=xrefwindow id=d1596e2879 href="https://doi.org/10.1016/j.rser.2018.08.003">Publisher Full Text </a></span></li><li><a name=ref-11 class=n-a></a><span class=label>11. </span>&nbsp;<span class=citation><a name=d1596e2888 class=n-a></a>Hansen M, Borup M: Smart grids and households: how are household consumers represented in experimental projects? <i>Tech Anal Strat Manag.</i> 2018; <b>30</b>(3): 255267. <a target=xrefwindow id=d1596e2896 href="https://doi.org/10.1080/09537325.2017.1307955">Publisher Full Text </a></span></li><li><a name=ref-12 class=n-a></a><span class=label>12. </span>&nbsp;<span class=citation><a name=d1596e2906 class=n-a></a>Littman ML: Markov Decision Processes. 2001. 92409242. [Accessed 12 6 2019]. <a target=xrefwindow id=d1596e2908 href="https://doi.org/10.1016/B0-08-043076-7/00614-8">Publisher Full Text </a></span></li><li><a name=ref-13 class=n-a></a><span class=label>13. </span>&nbsp;<span class=citation><a name=d1596e2917 class=n-a></a>Nakabi TA, Toivanen P: An ANN-based model for learning individual customer behavior in response to electricity prices. <i>Sustainable Energy, Grids and Networks.</i> 2019; <b>18</b>. <a target=xrefwindow id=d1596e2925 href="https://doi.org/10.1016/j.segan.2019.100212">Publisher Full Text </a></span></li><li><a name=ref-14 class=n-a></a><span class=label>14. </span>&nbsp;<span class=citation><a name=d1596e2934 class=n-a></a>Ihara S, Schweppe FC: Physically based modeling of cold load pickup. <i>IEEE Transactions on Power Apparatus and Systems.</i> 1981; <b>100</b>(9): 41424150. <a target=xrefwindow id=d1596e2942 href="https://doi.org/10.1109/TPAS.1981.316965">Publisher Full Text </a></span></li><li><a name=ref-15 class=n-a></a><span class=label>15. </span>&nbsp;<span class=citation><a name=d1596e2951 class=n-a></a>Malhame R, Chong CY: Electric load model synthesis by diffusion approximation of a high-order hybrid state stochastic system. <i>IEEE TRANSACTIONS ON AUTOMATIC CONTROL.</i> 1985; <b>30</b>(9): 854860. <a target=xrefwindow id=d1596e2959 href="https://doi.org/10.1109/TAC.1985.1104071">Publisher Full Text </a></span></li><li><a name=ref-16 class=n-a></a><span class=label>16. </span>&nbsp;<span class=citation><a name=d1596e2968 class=n-a></a>Mathieu JL, Koch S, Callaway DS: State estimation and control of electric loads to manage real-time energy imbalance. <i>IEEE Trans Power Syst.</i> 2013; <b>28</b>(1): 430440. <a target=xrefwindow id=d1596e2976 href="https://doi.org/10.1109/TPWRS.2012.2204074">Publisher Full Text </a></span></li><li><a name=ref-17 class=n-a></a><span class=label>17. </span>&nbsp;<span class=citation><a name=d1596e2985 class=n-a></a>Hao H, Sanandaji BM, Poolla K, <i> et al.</i>: Aggregate Flexibility of Thermostatically Controlled Loads. <i>IEEE Transactions on Power Systems.</i> 2015; <b>30</b>(1): 189198. <a target=xrefwindow id=d1596e2996 href="https://doi.org/10.1109/TPWRS.2014.2328865">Publisher Full Text </a></span></li><li><a name=ref-18 class=n-a></a><span class=label>18. </span>&nbsp;<span class=citation><a name=d1596e3006 class=n-a></a>Kamgarpour M, Ellen C, Soudjani SEZ, <i> et al.</i>: Modeling options for demand side participation of thermostatically controlled loads. In <i>2013 IREP Symposium Bulk Power System Dynamics and Control-IX Optimization, Security and Control of the Emerging Power Grid,</i>. Rethymno, Greece, 2013. <a target=xrefwindow id=d1596e3014 href="https://doi.org/10.1109/IREP.2013.6629396">Publisher Full Text </a></span></li><li><a name=ref-19 class=n-a></a><span class=label>19. </span>&nbsp;<span class=citation><a name=d1596e3023 class=n-a></a>Meng FL, Zeng XJ: A Profit Maximization Approach to Demand Response Management with Customers Behavior Learning in Smart Grid. <i>IEEE Trans Smart Grid</i>. 2016; <b>7</b>(3): 15161529. <a target=xrefwindow id=d1596e3031 href="https://doi.org/10.1109/TSG.2015.2462083">Publisher Full Text </a></span></li><li><a name=ref-20 class=n-a></a><span class=label>20. </span>&nbsp;<span class=citation><a name=d1596e3040 class=n-a></a>Jia L, Zhao Q, Tong L: Retail pricing for stochastic demand with unknown parameters: An online machine learning approach. In <i>2013 51st Annual Allerton Conference on Communication, Control, and Computing (Allerton)</i>. Monticello, IL USA, 2013. <a target=xrefwindow id=d1596e3045 href="https://doi.org/10.1109/Allerton.2013.6736684">Publisher Full Text </a></span></li><li><a name=ref-21 class=n-a></a><span class=label>21. </span>&nbsp;<span class=citation><a name=d1596e3054 class=n-a></a>Dehghanpour K, Nehrir HM, Sheppard JW, <i> et al.</i>: Agent-Based Modeling of Retail Electrical Energy Markets With Demand Response. <i>IEEE Transactions on Smart Grid.</i> 2018; <b>9</b>(4): 34653475. <a target=xrefwindow id=d1596e3065 href="https://doi.org/10.1109/TSG.2016.2631453">Publisher Full Text </a></span></li><li><a name=ref-22 class=n-a></a><span class=label>22. </span>&nbsp;<span class=citation><a name=d1596e3074 class=n-a></a>Xie D, Hui H, Ding Y, <i> et al.</i>: Operating reserve capacity evaluation of aggregated heterogeneous TCLs with price signals. <i>Applied Energy.</i> 2018; <b>216</b>: 338347. <a target=xrefwindow id=d1596e3085 href="https://doi.org/10.1016/j.apenergy.2018.02.010">Publisher Full Text </a></span></li><li><a name=ref-23 class=n-a></a><span class=label>23. </span>&nbsp;<span class=citation><a name=d1596e3094 class=n-a></a>Jay D, Swarup K: Price Based Demand Response of Aggregated Thermostatically Controlled Loads For Load Frequency Control. In <i>17TH NATIONAL POWER SYSTEMS CONFERENCE</i>. 2012. <a target=xrefwindow id=d1596e3099 href="http://www.iitk.ac.in/npsc/Papers/NPSC2012/papers/12136.pdf">Reference Source</a></span></li><li><a name=ref-24 class=n-a></a><span class=label>24. </span>&nbsp;<span class=citation><a name=d1596e3109 class=n-a></a>Wang P, Zou S, Wang X, <i> et al.</i>: A Stackelberg Game Approach for Price Response Coordination of Thermostatically Controlled Loads. <i>Applied Sciences.</i> 2018; <b>8</b>(8): 1370. <a target=xrefwindow id=d1596e3120 href="https://doi.org/10.3390/app8081370">Publisher Full Text </a></span></li><li><a name=ref-25 class=n-a></a><span class=label>25. </span>&nbsp;<span class=citation><a name=d1596e3129 class=n-a></a>De Paola A, Trovato V, Angeli D, <i> et al.</i>: A Mean Field Game Approach for Distributed Control of Thermostatic Loads Acting in Simultaneous Energy-Frequency Response Markets. <i>IEEE Transactions on Smart Grid.</i> Early Access 2019; 11. <a target=xrefwindow id=d1596e3137 href="https://doi.org/10.1109/TSG.2019.2895247">Publisher Full Text </a></span></li><li><a name=ref-26 class=n-a></a><span class=label>26. </span>&nbsp;<span class=citation><a name=d1596e3146 class=n-a></a>Grammatico S, Gentile B, Parise F: A Mean Field control approach for demand side management of large populations of Thermostatically Controlled Loads. In <i>2015 European Control Conference (ECC)</i>. Linz, Austria, 2015. <a target=xrefwindow id=d1596e3151 href="https://doi.org/10.1109/ECC.2015.7331083">Publisher Full Text </a></span></li><li><a name=ref-27 class=n-a></a><span class=label>27. </span>&nbsp;<span class=citation><a name=d1596e3160 class=n-a></a>Nakabi TA, Haataja K, Toivanen P: Computational Intelligence for Demand Side Management and Demand Response Programs in Smart Grids. In <i>8th International conference on bioinspired optimization methods and their applications</i>. Paris, 2018. <a target=xrefwindow id=d1596e3165 href="https://www.researchgate.net/publication/331382569_Computational_Intelligence_for_Demand_Side_Management_and_Demand_Response_Programs_in_Smart_Grids">Reference Source</a></span></li><li><a name=ref-28 class=n-a></a><span class=label>28. </span>&nbsp;<span class=citation><a name=d1596e3174 class=n-a></a>Can Kara E, Berges M, Krogh B, <i> et al.</i>: Using smart devices for system-level management and control in the smart grid: A reinforcement learning framework. In <i>2012 IEEE Third International Conference on Smart Grid Communications (SmartGridComm)</i>. Tainan, Taiwan, 2012. <a target=xrefwindow id=d1596e3182 href="https://doi.org/10.1109/SmartGridComm.2012.6485964">Publisher Full Text </a></span></li><li><a name=ref-29 class=n-a></a><span class=label>29. </span>&nbsp;<span class=citation><a name=d1596e3191 class=n-a></a>De Somer O, Soares A, Kuijpers T, <i> et al.</i>: Using Reinforcement Learning for Demand Response of Domestic Hot Water Buffers: a Real-Life Demonstration. Cornell University, 2017. <a target=xrefwindow id=d1596e3196 href="https://arxiv.org/pdf/1703.05486.pdf">Reference Source</a></span></li><li><a name=ref-30 class=n-a></a><span class=label>30. </span>&nbsp;<span class=citation><a name=d1596e3206 class=n-a></a>Ruelens F, Claessens BJ, Quaiyum S, <i> et al.</i>: Reinforcement Learning Applied to an Electric Water Heater: From Theory to Practice. <i>IEEE TRANSACTIONS ON SMART GRID.</i> 2018; <b>9</b>(4): 37923800. <a target=xrefwindow id=d1596e3217 href="https://doi.org/10.1109/TSG.2016.2640184">Publisher Full Text </a></span></li><li><a name=ref-31 class=n-a></a><span class=label>31. </span>&nbsp;<span class=citation><a name=d1596e3226 class=n-a></a>Claessens BJ, Vrancx P, Ruelens F: Convolutional Neural Networks for Automatic State-Time Feature Extraction in Reinforcement Learning Applied to Residential Load Control. <i>IEEE Transactions on Smart Grid.</i> 2018; <b>9</b>(4): 32593269. <a target=xrefwindow id=d1596e3234 href="https://doi.org/10.1109/TSG.2016.2629450">Publisher Full Text </a></span></li><li><a name=ref-32 class=n-a></a><span class=label>32. </span>&nbsp;<span class=citation><a name=d1596e3243 class=n-a></a>Ruelens F, Claessens BJ, Vandael S, <i> et al.</i>: Residential Demand Response of Thermostatically Controlled Loads Using Batch Reinforcement Learning. <i>IEEE Transactions on Smart Grid.</i> 2017; <b>8</b>(5): 21492159. <a target=xrefwindow id=d1596e3254 href="https://doi.org/10.1109/TSG.2016.2517211">Publisher Full Text </a></span></li><li><a name=ref-33 class=n-a></a><span class=label>33. </span>&nbsp;<span class=citation><a name=d1596e3263 class=n-a></a>Ruelens F, Claessens BJ, Vrancx P, <i> et al.</i>: Direct Load Control of Thermostatically Controlled Loads Based on Sparse Observations Using Deep Reinforcement Learning. Cornell University. 2017. <a target=xrefwindow id=d1596e3268 href="https://arxiv.org/abs/1707.08553v1">Reference Source</a></span></li><li><a name=ref-34 class=n-a></a><span class=label>34. </span>&nbsp;<span class=citation><a name=d1596e3277 class=n-a></a>Patyn C, Ruelens F, Deconinck G: Comparing neural architectures for demand response through model-free reinforcement learning for heat pump control. In: <i>2018 IEEE International Energy Conference (ENERGYCON)</i>. Limassol, Cyprus, 2018. <a target=xrefwindow id=d1596e3282 href="https://doi.org/10.1109/ENERGYCON.2018.8398836">Publisher Full Text </a></span></li><li><a name=ref-35 class=n-a></a><span class=label>35. </span>&nbsp;<span class=citation><a name=d1596e3291 class=n-a></a>Mocanu E, Constantin Mocanu D, Nguyen PH: On-line Building Energy Optimization using Deep Reinforcement Learning. <i>IEEE Transactions on Smart Grid.</i> 2018; <b>10</b>(4): 36983708. <a target=xrefwindow id=d1596e3299 href="https://doi.org/10.1109/TSG.2018.2834219">Publisher Full Text </a></span></li><li><a name=ref-36 class=n-a></a><span class=label>36. </span>&nbsp;<span class=citation><a name=d1596e3309 class=n-a></a>Mohsenian-Rad AH, Wong VW, Jatskevich J, <i> et al.</i>: Autonomous Demand-Side Management Based on Game-Theoretic Energy Consumption Scheduling for the Future Smart Grid. <i>IEEE Transactions on Smart Grid.</i> 2010; <b>1</b>(3): 320331. <a target=xrefwindow id=d1596e3320 href="https://doi.org/10.1109/TSG.2010.2089069">Publisher Full Text </a></span></li><li><a name=ref-37 class=n-a></a><span class=label>37. </span>&nbsp;<span class=citation><a name=d1596e3329 class=n-a></a>Holland JH: Genetic Algorithms. <i>Scientific American.</i> 1992; <b>267</b>(1): 6672. <a target=xrefwindow id=d1596e3337 href="https://doi.org/10.1038/scientificamerican0792-66">Publisher Full Text </a></span></li><li><a name=ref-38 class=n-a></a><span class=label>38. </span>&nbsp;<span class=citation><a name=d1596e3346 class=n-a></a>Blickle T, Thiele L: A comparison of selection schemes used in evolutionary algorithms. <i>Evol Comput.</i> 1996; <b>4</b>(4): 361394. <a target=xrefwindow id=d1596e3354 href="https://doi.org/10.1162/evco.1996.4.4.361">Publisher Full Text </a></span></li><li><a name=ref-39 class=n-a></a><span class=label>39. </span>&nbsp;<span class=citation><a name=d1596e3363 class=n-a></a>Syswerda G: Uniform crossover in genetic algorithms. <i>Proceedings of the 3rd International Conference on Genetic Algorithms.</i> San Francisco, CA USA, 1989. <a target=xrefwindow id=d1596e3368 href="https://dl.acm.org/citation.cfm?id=657265">Reference Source</a></span></li><li><a name=ref-40 class=n-a></a><span class=label>40. </span>&nbsp;<span class=citation><a name=d1596e3377 class=n-a></a>Neubauer A: Adaptive non-uniform mutation for genetic algorithms. In: <i>Computational Intelligence Theory and Applications</i>. Berlin, Heidelberg, 1997; 2434. <a target=xrefwindow id=d1596e3382 href="https://doi.org/10.1007/3-540-62868-1_94">Publisher Full Text </a></span></li><li><a name=ref-41 class=n-a></a><span class=label>41. </span>&nbsp;<span class=citation><a name=d1596e3391 class=n-a></a>Deb K: An efficient constraint handling method for genetic algorithms. <i>Comput Methods Appl Mech Eng.</i> 2000; <b>186</b>(24): 311338. <a target=xrefwindow id=d1596e3399 href="https://doi.org/10.1016/S0045-7825(99)00389-8">Publisher Full Text </a></span></li><li><a name=ref-42 class=n-a></a><span class=label>42. </span>&nbsp;<span class=citation><a name=d1596e3409 class=n-a></a>Weather observations, Kaisaniemi observation station Helsinki. Finnish meteorological institute. [Accessed 8 September 2019]. <a target=xrefwindow id=d1596e3411 href="https://en.ilmatieteenlaitos.fi/download-observations">Reference Source</a></span></li><li><a name=ref-43 class=n-a></a><span class=label>43. </span>&nbsp;<span class=citation><a name=d1596e3420 class=n-a></a>Nord Pool, Elspot Day-ahead, Prices. [Accessed 8 September 2018]. <a target=xrefwindow id=d1596e3422 href="https://www.nordpoolgroup.com/Market-data1/Dayahead/Area-Prices/ALL1/Hourly/?view=table">Reference Source</a></span></li><li><a name=ref-44 class=n-a></a><span class=label>44. </span>&nbsp;<span class=citation><a name=d1596e3431 class=n-a></a>Nakabi T: LSTM+GA data. figshare. Dataset. 2019. <a target=xrefwindow id=d1596e3433 href="http://dx.doi.org/10.6084/m9.figshare.9746786.v1">http://dx.doi.org/10.6084/m9.figshare.9746786.v1</a></span></li><li><a name=ref-45 class=n-a></a><span class=label>45. </span>&nbsp;<span class=citation><a name=d1596e3442 class=n-a></a>Nakabi TA: tahanakabi/Deep-Reinforcenment-learning-for-TCL-control: First release (Version V1.0.0). <i>Zenodo.</i> 2019. <a target=xrefwindow id=d1596e3447 href="http://dx.doi.org/10.5281/zenodo.3383615">http://dx.doi.org/10.5281/zenodo.3383615</a></span></li></ul></div></div></div> </div> <div class=f1r-article-desk> <section class="o-box o-box--medium u-bg--2 u-mt--2"> <h4 class="u-mt--0 u-mb--2 t-h3 u-weight--md">Looking for the Open Peer Review Reports?</h4> <p class="u-mt--0 u-mb--0 t-h4">They can now be found at the top of the panel on the right, linked from the box entitled Open Peer Review. Choose the reviewer report you wish to read and click the 'read' link. You can also read all the peer review reports by <a target=_blank href="https://f1000research.com/articles/8-1619/v1/pdf?article_uuid=e7faa0eb-1d38-4dd8-bd64-1243743b449f">downloading the PDF</a>.</p> </section> </div> <div id=article-comments class="article-comments padding-bottom-20"> <div class=current-article-comment-section> <h2 class=main-title name=add-new-comment id=add-new-comment> <span class="research-layout f1r-article-mobile-inline valign-middle"> <span class="f1r-icon icon-104_comments size30"></span> </span> <span class=f1r-article-desk-inline>Comments on this article</span> <span class=f1r-article-mobile-inline>Comments (0)</span> <span class="f1r-article-mobile-inline float-right"> <span class="f1r-icon icon-14_more_small"></span> <span class="f1r-icon icon-10_less_small"></span> </span> </h2> </div> <div class="f1r-article-desk-inline referee-report-info-box referee-report-version-box"> Version 1 </div> <div class="f1r-article-mobile research-layout mobile-version-info padding-top-30"> <span class=mversion>VERSION 1</span> <span class=details>PUBLISHED 10 Sep 2019</span> <span class="article-pubinfo-mobile versions-section"> </span> </div> <div class="f1r-article-mobile research-layout margin-top-20 is-centered"> <a href="/login?originalPath=/articles/8-1619/v1&scrollTo=add-new-comment" class=register-report-comment-button data-test-id=add-comment_mob> <button class="primary orange extra-padding comment-on-this-report">ADD YOUR COMMENT</button> </a> </div> <a href="/login?originalPath=/articles/8-1619/v1&scrollTo=add-new-comment" class="f1r-article-desk register-report-comment-button" data-test-id=add-comment> <span class=contracted></span>Comment </a> </div> <div class="f1r-article-mobile margin-bottom-30"> <div class=contracted-details> <a href="#" class="contracted-details-label author-affiliations"><span class=contracted></span>Author details</a> <a href="#" class=section-title>Author details</a> <span class="f1r-icon icon-14_more_small section-control"></span> <span class="f1r-icon icon-10_less_small section-control"></span> <div class="expanded-details affiliations is-hidden"> School of Computing, University of Eastern Finland, Kuopio, 70211, Finland<br/> <p> <div class=margin-bottom> Taha Abdelhalim Nakabi <br/> <span>Roles: </span> Conceptualization, Data Curation, Formal Analysis, Investigation, Methodology, Project Administration, Resources, Software, Validation, Visualization, Writing  Original Draft Preparation, Writing  Review & Editing </div> <div class=margin-bottom> Pekka Toivanen <br/> <span>Roles: </span> Funding Acquisition, Supervision </div> </p> </div> </div> <div class=contracted-details> <a href="#" class=section-title>Article Versions (1)</a> <span class="f1r-icon icon-14_more_small section-control"></span> <span class="f1r-icon icon-10_less_small section-control"></span> <div class="expanded-details grant-information article-page is-hidden"> <div> <a href="https://f1000research.com/articles/8-1619/v1" title="Open version 1 of this article." class="" gahelper=1>version 1</a> <span class="article-pubinfo-mobile versions-section"> </span> </div> <div> Published: 10 Sep 2019, 8:1619 </div> <div class=""><a href="https://doi.org/10.12688/f1000research.20421.1">https://doi.org/10.12688/f1000research.20421.1</a></div> </div> </div> <div class=contracted-details> <a href="#" class=section-title> <span class="f1r-icon icon-100_open_access"></span> Copyright </a> <span class="f1r-icon icon-14_more_small section-control"></span> <span class="f1r-icon icon-10_less_small section-control"></span> <div class="expanded-details grant-information article-page is-hidden">  2019 Nakabi TA and Toivanen P. This is an open access article distributed under the terms of the <a href="http://creativecommons.org/licenses/by/4.0/" target=_blank data-test-id=box-licence-link>Creative Commons Attribution License</a>, which permits unrestricted use, distribution, and reproduction in any medium, provided the original work is properly cited. </div> </div> <div class="padding-top-30 research-layout"> <div class=article-toolbox-wrapper-mobile> <div class=article-tools-icon-mobile data-section=download> <span class="f1r-icon icon-76_download_file white"></span> </div> <div class="article-tools-icon-mobile mobile-metrics article-metrics-wrapper metrics-icon-wrapper" data-section=metrics data-version-id=22445 data-id=20421 data-downloads="" data-views="" data-scholar="10.12688/f1000research.20421.1" data-recommended="" data-f1r-ga-helper="Article Page Metrics (Mobile)"> <span class="f1r-icon icon-89_metrics white"></span> </div> <div class=article-tools-divider-mobile></div> <div class=article-tools-icon-mobile data-section=cite> <span class="f1r-icon icon-82_quote white"></span> </div> <div class="article-tools-icon-mobile " data-section=track> <span class="f1r-icon icon-90_track white"></span> </div> <div class=article-tools-divider-mobile></div> <div class=article-tools-icon-mobile data-section=share> <span class="f1r-icon icon-34_share white"></span> </div> <span class=article-toolbox-stretch></span> </div> <div class=article-toolbox-content-mobile> <div class="toolbox-section download"> <div class=toolbox-section-heading>Download</div> <div class=toolbox-section-content> <a href="https://f1000research.com/articles/8-1619/v1/pdf?article_uuid=e7faa0eb-1d38-4dd8-bd64-1243743b449f" title="Download PDF" class="no-decoration pdf-download-helper"> <span class="f1r-icon icon-102_download_pdf toolbox-section-icon"></span> </a> <div class=toolbox-section-option-divider>&nbsp;</div> <a id=mobile-download-xml class=no-decoration href="#" title="Download XML"> <span class="f1r-icon icon-103_download_xml toolbox-section-icon"></span> </a> </div> <div class=toolbox-section-divider></div> <div class=toolbox-section-heading>Export To</div> <div class=toolbox-section-content> <button class="primary no-fill orange-text-and-border mobile-export" data-etype=WORKSPACE>Sciwheel</button> <button class="primary no-fill orange-text-and-border mobile-export" data-etype=BIBTEX>Bibtex</button> <button class="primary no-fill orange-text-and-border mobile-export" data-etype=ENDNOTE>EndNote</button> <button class="primary no-fill orange-text-and-border mobile-export" data-etype=PROCITE>ProCite</button> <button class="primary no-fill orange-text-and-border mobile-export" data-etype=REF_MANAGER>Ref. Manager (RIS)</button> <button class="primary no-fill orange-text-and-border mobile-export" data-etype=SENTE>Sente</button> </div> </div> <div class="toolbox-section metrics"> <div class="toolbox-section-heading no-top-border">metrics</div> <div class="toolbox-section-divider toolbox-section-divider--no-height"></div> <div class=article-metrics-pageinfo> <div class=c-article-metrics-table> <table class=c-article-metrics-table__table> <thead> <tr> <th></th> <th><span class=c-article-metrics-table__heading>Views</span></th> <th><span class=c-article-metrics-table__heading>Downloads</span></th> </tr> </thead> <tbody> <tr> <th class=c-article-metrics-table__row-heading><span class="c-article-metrics-table__platform u-platform--" data-test-id=metrics_platform_name_mob>F1000Research</span></th> <td class="c-article-metrics-table__value js-article-views-count" data-test-id=metrics_platform_views_mob>-</td> <td class="c-article-metrics-table__value js-article-downloads-count" data-test-id=metrics_platform_downloads_mob>-</td> </tr> <tr> <th class=c-article-metrics-table__row-heading> <span class="u-ib u-middle c-article-metrics-table__pmc" data-test-id=metrics_pmc_name_mob>PubMed Central</span> <div class="c-block-tip c-block-tip--centered c-article-metrics-table__tooltip c-block-tip--md-padding c-block-tip--small-arrow u-ib u-middle"> <button type=button class="u-black--medium u-black--high@hover u-ib u-middle c-button--icon c-button--text c-block-tip__toggle"><i class="material-icons c-button--icon__icon">info_outline</i></button> <div class=c-block-tip__content>Data from PMC are received and updated monthly.</div> </div> </th> <td class="c-article-metrics-table__value js-pmc-views-count" data-test-id=metrics_pmc_views_mob>-</td> <td class="c-article-metrics-table__value js-pmc-downloads-count" data-test-id=metrics_pmc_downloads_mob>-</td> </tr> </tbody> </table> </div> </div> <span class=metrics-citations-container> <div class=toolbox-section-divider></div> <div class="toolbox-section-heading u-mb--1">Citations</div> <div> <div class=toolbox-section-colsplit> <div class=citations-scopus-logo> <a href="" target=_blank class="is-hidden metrics-citation-icon" title="View full citation details at www.scopus.com"><i class="material-icons scopus-icon">open_in_new</i></a> </div> <div class="toolbox-section-count scopus"> <a href='' class='scopus-citation-link is-hidden' target=_blank title='View full citation details at www.scopus.com'>0</a> </div> </div> <div class=toolbox-section-colsplit> <div class="citations-pubmed-logo f1000research"> <a href="" target=_blank class="is-hidden metrics-citation-icon f1000research" title="View full citation details"><i class="material-icons scopus-icon">open_in_new</i></a> </div> <div class="toolbox-section-count pubmed"> <a href='' class='pubmed-citation-link is-hidden' target=_blank title='View full citation details'>0</a> </div> </div> <div class=toolbox-section-divider></div> <div class=toolbox-section-content> <div class="citations-scholar-logo f1000research"> <a href="" target=_blank class="is-hidden metrics-citation-icon google-scholar f1000research" title="View full citation details" data-scholar="10.12688/f1000research.20421.1"><i class="material-icons scopus-icon">open_in_new</i></a> </div> </div> </div> </span> <span class=metrics-details-container> <div class=toolbox-section-divider></div> <div class="toolbox-section-content altmetric-section"> <div class=altmetrics-image></div> <div class=altmetrics-more-link> <a href="" target=_blank class=f1r-standard-link>SEE MORE DETAILS</a> </div> <div class=altmetric-mobile-column-counts></div> <div class=altmetric-mobile-column-readers></div> <div class=toolbox-section-divider></div> </div> </span> </div> <div class="toolbox-section cite"> <div class="toolbox-section-heading no-top-border">CITE</div> <div class=toolbox-section-divider></div> <div class=toolbox-section-heading>how to cite this article</div> <div id=citation-copy-mobile class="toolbox-section-content text-content heading9 small" data-test-id=mob_copy-citation_text> Nakabi TA and Toivanen P. Optimal price-based control of heterogeneous thermostatically controlled loads under uncertainty using LSTM networks and genetic algorithms [version 1; peer review: awaiting peer review] <i>F1000Research</i> 2019, <b>8</b>:1619 (<a href="https://doi.org/10.12688/f1000research.20421.1" target=_blank>https://doi.org/10.12688/f1000research.20421.1</a>) </div> <div class=toolbox-section-divider></div> <div class="toolbox-section-content text-content heading9 small"> NOTE: <em>it is important to ensure the information in <b>square brackets after the title</b> is included in all citations of this article.</em> </div> <div class=toolbox-section-content> <button class="primary orange extra-padding copy-cite-article-mobile js-clipboard" data-clipboard-target="#citation-copy-mobile" title="Copy the current citation details." data-test-id=mob_copy-citation_button-mob>COPY CITATION DETAILS</button> </div> </div> <div class="toolbox-section track"> <div class="toolbox-section-heading no-top-border">track</div> <div class=toolbox-section-divider></div> <div class=toolbox-section-heading>receive updates on this article</div> <div class="toolbox-section-content padding-left-20 padding-right-20 heading9 small"> Track an article to receive email alerts on any updates to this article. </div> <div class=toolbox-section-content> <a data-article-id=20421 id=mobile-track-article-signin-20421 title="Receive updates on new activity such as publication of new versions, peer reviews or author responses." href="/login?originalPath=/trackArticle/20421?target=/articles/8-1619/v1"> <button class="primary orange extra-padding"> TRACK THIS ARTICLE </button> </a> </div> </div> <div class="toolbox-section share"> <div class="toolbox-section-heading no-top-border">Share</div> <div class=toolbox-section-divider></div> <div class=toolbox-section-content> <a target=_blank class="f1r-shares-icon-square f1r-shares-email" title="Email this article"></a> <a target=_blank class="f1r-shares-icon-square f1r-shares-twitter" title="Share on Twitter"></a> <a target=_blank class="f1r-shares-icon-square f1r-shares-facebook" title="Share on Facebook"></a> <a target=_blank class="f1r-shares-icon-square f1r-shares-linkedin" title="Share on LinkedIn"></a> <a target=_blank class="f1r-shares-icon-square f1r-shares-reddit" title="Share on Reddit"></a> <a target=_blank class="f1r-shares-icon-square f1r-shares-mendelay" title="Share on Mendeley"></a> <div class="email-article-wrapper email-article-version-container"> <div class=toolbox-section-divider></div> <script src='https://www.recaptcha.net/recaptcha/api.js'></script> <form class="recommend-version-form-mobile research-layout"> <p>All fields are required.</p> <input name=versionId type=hidden value=22445 /> <input name=articleId type=hidden value=20421 /> <input name=senderName class="form-input-field reg-form" value="" type=text placeholder="Your name"/> <input name=senderEmail class="form-input-field reg-form margin-top" value="" type=text placeholder="Your email address"/> <textarea name=recipientEmails class="form-textarea-field ninetynine-percent-wide margin-top no-resize" placeholder="Recipient email address(es) (comma delimited)"></textarea> <input class="form-input-field reg-form margin-top" name=subject type=text value="Interesting article on F1000Research" placeholder=Subject /> <textarea name=message class="form-textarea-field reg-form margin-top no-resize">I thought this article from F1000Research (https://f1000research.com) would be of interest to you.</textarea> <div class="g-recaptcha margin-top" data-sitekey=6LcHqxoUAAAAANP3_0TzpGG6qFvl4DhbUcuRzw7W></div> <input value="" name=captcha type=hidden /> <p>A full article citation will be automatically included.</p> <p><img class="ticker-email-article-details hidden" src="/img/ticker.gif" alt=loading /></p> <button class="secondary orange margin-bottom" data-test-id=version_share_email_send>SEND EMAIL</button> <div class="orange-message margin-bottom is-hidden" data-test-id=version_share_email_message></div> </form> </div> </div> </div> </div> </div> <a name=article-reports></a> <div id=article-reports class="u-mt--3 reports-comments no-divider"> <div class="current-referee-status no-border-and-margin "> <h2 class=main-title id=current-referee-status> <span class="research-layout f1r-article-mobile-inline valign-middle"> <span class="f1r-icon icon-85_peer_review size30"></span> </span> Open Peer Review <span class="f1r-article-mobile-inline float-right"> <span class="f1r-icon icon-14_more_small"></span> <span class="f1r-icon icon-10_less_small"></span> </span> </h2> <a name=current-referee-status></a> <div class=current-referee-status__content name=add-new-report-comment id=add-new-report-comment> Current Reviewer Status: <div class=f1r-article-desk-inline><em>AWAITING PEER REVIEW</em></div> <div class="f1r-article-mobile-inline float-right"><em>AWAITING PEER REVIEW</em></div> <span class="circle-icon-small to-right" data-window=about-referee-status title=Help>?</span> <span class="research-layout f1r-article-mobile"> <div class=mobile-ref-status-help> Key to Reviewer Statuses <span class=referee-status-pointer></span> <span class="view-control float-right">VIEW</span> <span class="view-control float-right is-hidden">HIDE</span> <div class=mobile-ref-status-help-content> <div class="cf margin-top"> <span class="f1r-icon icon-86_approved status-green smaller float-left margin-bottom-40 margin-right" title=Approved></span> <span class=title>Approved</span>The paper is scientifically sound in its current form and only minor, if any, improvements are suggested </div> <div class="cf margin-top"> <span class="f1r-icon icon-87_approved_reservations status-green smaller float-left margin-bottom-40 margin-right" title="Approved with Reservations"></span> <span class=title>Approved with reservations</span> A number of small changes, sometimes more significant revisions are required to address specific details and improve the papers academic merit. </div> <div class="cf margin-top"> <span class="f1r-icon icon-88_not_approved status-red small float-left margin-bottom-30 margin-right" title="Not Approved"></span> <span class=title>Not approved</span>Fundamental flaws in the paper seriously undermine the findings and conclusions </div> </div> </div> </span> </div> </div> </div> <div class="f1r-article-mobile research-layout"> <div class="mobile-sections-divider before-comments"></div> </div> <div id=article-comments class="article-comments padding-bottom-20"> <div class=current-article-comment-section> <h2 class=main-title name=add-new-comment id=add-new-comment> <span class="research-layout f1r-article-mobile-inline valign-middle"> <span class="f1r-icon icon-104_comments size30"></span> </span> <span class=f1r-article-desk-inline>Comments on this article</span> <span class=f1r-article-mobile-inline>Comments (0)</span> <span class="f1r-article-mobile-inline float-right"> <span class="f1r-icon icon-14_more_small"></span> <span class="f1r-icon icon-10_less_small"></span> </span> </h2> </div> <div class="f1r-article-desk-inline referee-report-info-box referee-report-version-box"> Version 1 </div> <div class="f1r-article-mobile research-layout mobile-version-info padding-top-30"> <span class=mversion>VERSION 1</span> <span class=details>PUBLISHED 10 Sep 2019</span> <span class="article-pubinfo-mobile versions-section"> </span> </div> <div class="f1r-article-mobile research-layout margin-top-20 is-centered"> <a href="/login?originalPath=/articles/8-1619/v1&scrollTo=add-new-comment" class=register-report-comment-button data-test-id=add-comment_mob> <button class="primary orange extra-padding comment-on-this-report">ADD YOUR COMMENT</button> </a> </div> <a href="/login?originalPath=/articles/8-1619/v1&scrollTo=add-new-comment" class="f1r-article-desk register-report-comment-button" data-test-id=add-comment> <span class=contracted></span>Comment </a> </div> </div> </div> <div id=article_main-column class="p-article__sidebar o-layout__item u-1/3 not-expanded js-article-sidebar"> <div class="o-tab p-article__column-toggle-container"> <button class="c-tab c-tab--left js-column-toggle p-article__column-toggle not-expanded " type=button data-target-main=article_main-column data-target-secondary=article_secondary-column><i class="c-tab__icon material-icons u-hide@expanded">keyboard_arrow_left</i><i class="c-tab__icon material-icons u-show@expanded">keyboard_arrow_right</i></button> </div> <div class=p-article__sidebar-content> <div class="p-article__sidebar-scroller js-article-sidebar-scroller"> <section class="p-article__sidebar-view js-article-sidebar-view js-article-sidebar-main u-pt u-pb--8" data-view=peer-review> <div class="o-layout o-layout--flush"> <div class="o-layout__item u-pl"> <h3 class="u-mt--0 u-mb--2 t-h3 u-weight--md u-pl" data-test-id=article_sidebar_heading>Open Peer Review</h3> </div> <div class=o-layout__item> <div class="p-article__sidebar-highlight u-mb--2"> <h4 class="u-mt--0 u-mb--0 u-ib u-middle t-h4 u-weight--md u-mr--1/2">Reviewer Status</h4> <div class="u-ib u-middle"><em>AWAITING PEER REVIEW</em></div> </div> </div> <section class="o-layout__item u-pl"> <div class=u-pl> <hr class="c-hr c-hr--low c-hr--md u-mb--3"> <h4 class="t-h3 u-weight--md u-mt--0 u-mb--2">Comments on this article</h4> <div class=u-mb--4> <p class="u-mt--0 u-mb--1 t-h4"><a class=p-article__color--light href="#article-comments">All Comments</a><span class=" u-ib u-ml--1/2 p-article__color--light">(0)</span></p> <a class=t-h4 href="/login?originalPath=/articles/8-1619/v1&scrollTo=add-new-comment" data-test-id=add-comment>Add a comment</a> </div> <hr class="c-hr c-hr--low c-hr--md u-mb--4"> <div class="research-layout f1r-article-desk"> <div class="heading6 c-ribbon-wrapper c-ribbon-wrapper--etoc f1000research "> <div class=c-ribbon-wrapper__body>Sign up for content alerts</div> </div> </div> <div class="research-layout sidebar-sign-up-form f1r-article-desk u-mb--4 "> <form class=js-email-alert-signup action="#" method=POST data-email=tocAlertWeekly> <input type=hidden name=isUserLoggedIn class=js-email-alert-signup-logged-in value=N /> <input type=hidden name=userId class=js-email-alert-signup-user-id value=""/> <input type=hidden name=frequency class=js-email-alert-signup-frequency value=WEEKLY /> <div class="o-actions o-actions--middle"> <div class=o-actions__primary> <input type=email name=emailAddress class="form-input-field js-email-alert-signup-address u-1/1 u-bb" required=required placeholder=Email /> </div> <div class=o-actions__secondary> <div class="_mdl-layout u-ml--1/2"> <button class="mdl-button mdl-js-button mdl-button--colored mdl-button--small mdl-button--filled js-email-alert-signup-submit">Sign Up</button> </div> </div> </div> </form> <div id=sidebar-sign-up-message class="section-text js-email-alert-signup-msg is-hidden">You are now signed up to receive this alert</div> </div> <section class=js-terms-container> <hr class="c-hr c-hr--low c-hr--md u-mb--3"> <h4 class="t-h3 u-weight--md u-mt--0 u-mb--1">Browse by related subjects</h4> <div class="article-subcontainer article-subcontainer--sidebar"> <ul class=js-terms-list></ul> </div> </section> </div> </section> </div> </section> </div> <script src="/js/shared_scripts/modal-dialogue.js"></script> <script src="/js/shared_scripts/read-more.js"></script> <script src="/js/article/article-router.js"></script> <script src="/js/article/article-sidebar.js"></script> <script src="/js/referee/new/referee_helpers.js"></script> <script src="/js/article/article-column-toggle.js"></script> </div> </div> </div> </main> <input type=hidden id=_articleVersionUrl value="https://f1000research.com/articles/8-1619/v1/"> <div class=research-help id=about-referee-status> <div class="research-layout research-help-content about-referee-status"> <span class="close-research-help dark-cross" title=Close></span> Alongside their report, reviewers assign a status to the article: <div class="cf research-help-row"> <span class="f1r-icon icon-86_approved status-green smaller" title=Approved></span> <span class=research-help-text>Approved - the paper is scientifically sound in its current form and only minor, if any, improvements are suggested</span> </div> <div class="cf research-help-row"> <span class="f1r-icon icon-87_approved_reservations status-green smaller" title="Approved with Reservations"></span> <span class=research-help-text>Approved with reservations - A number of small changes, sometimes more significant revisions are required to address specific details and improve the papers academic merit. </span> </div> <div class="cf research-help-row"> <span class="f1r-icon icon-88_not_approved status-red small" title="Not Approved"></span> <span class=research-help-text>Not approved - fundamental flaws in the paper seriously undermine the findings and conclusions</span> </div> </div> </div> <div id=datasets-info class=is-hidden> </div> <div class=article-interactive-content-container style="display: none;"> <a name=f-template class=n-a></a> <div class="interactive-content-wrapper padding-20"> <img src="" class=interactive-content-image title="Open the interactive image display"> <div class=interactive-content-title></div> <div class=interactive-content-text></div> <div class="f1r-article-desk interactive-content-ribbon" data-interactive-content-type=R-Script> <div class=interactive-content-label>Adjust parameters to alter display</div> <div class=interactive-content-button></div> </div> <div class="f1r-article-mobile mobile-interactive-note"> View on desktop for interactive features <img src="/img/icon/interactive_content.png" class="float-right margin-right-40"/> </div> <div class=clearfix></div> </div> </div> <div id=article-interactive-omero-container class=article-interactive-omero-container style="display: none;"> <div class=interactive-content-wrapper> <div class="interactive-omero-button omero-content" title="Open the interactive content window." data-interactive-content-type=Omero></div> <div class=has-interactive-content-image> <span class=box-arrow></span> <span class=box-middle>Includes Interactive Elements</span> <span class=box-end></span> </div> <div class="fig panel clearfix" style="margin: 0; padding-bottom: 20px;"> <a name=templatelink class=n-a></a> <a target=_blank href="" class=link-for-omero-image> <img src="" class=interactive-omero-image title="Open the image display window."> </a> <div class=caption> <div class=interactive-content-title></div> <div class=interactive-content-text></div> </div> <div class="is-hidden omero-image-list"></div> </div> <div class="f1r-article-mobile mobile-interactive-note omero"> View on desktop for interactive features <img src="/img/icon/interactive_content.png" class="float-right margin-right-40"/> </div> <div class=clearfix></div> </div> </div> <div class="add-comment-container shadow-box is-hidden" id=save-comment-container> <span id=save-comment-text class=intro-text>Edit comment</span> <textarea id=new-comment name=new-comment class="global-textarea comment margin-bottom margin-top"></textarea> <p><strong>Competing Interests</strong></p> <textarea id=new-competing-interests name=competing-interests class="global-textarea competing-interests margin-bottom check-xss"></textarea> <div class=clearfix></div> <button id=cancelComment type=button class="general-white-orange-button float-right no-background-button margin-left"> Cancel </button> <button id=save-comment-button commentId="" type=button class="general-white-orange-button float-right"> Save </button> <div class=clearfix></div> <div class="green-message margin-top is-hidden comment-is-saved">The comment has been saved.</div> <div class="red-message margin-top is-hidden comment-not-added">An error has occurred. Please try again.</div> <div class="red-message margin-top is-hidden comment-enter-text ucf">Your must enter a comment.</div> <div class="red-message margin-top is-hidden comment-references-error references">References error.</div> </div> <div class="modal-window-wrapper is-hidden"> <div id=conflicts-interests class="modal-window padding-20"> <div class=modal-window__content> <h2 class=h2-title>Competing Interests Policy</h2> <p> Provide sufficient details of any financial or non-financial competing interests to enable users to assess whether your comments might lead a reasonable person to question your impartiality. Consider the following examples, but note that this is not an exhaustive list: </p> <div class=heading5>Examples of 'Non-Financial Competing Interests'</div> <ol class="numbered-list no-padding"> <li class=standard-padding>Within the past 4 years, you have held joint grants, published or collaborated with any of the authors of the selected paper.</li> <li class=standard-padding>You have a close personal relationship (e.g. parent, spouse, sibling, or domestic partner) with any of the authors.</li> <li class=standard-padding>You are a close professional associate of any of the authors (e.g. scientific mentor, recent student).</li> <li class=standard-padding>You work at the same institute as any of the authors.</li> <li class=standard-padding>You hope/expect to benefit (e.g. favour or employment) as a result of your submission.</li> <li class=standard-padding>You are an Editor for the journal in which the article is published.</li> </ol> <div class="heading5 padding-top">Examples of 'Financial Competing Interests'</div> <ol class="numbered-list no-padding"> <li class=standard-padding>You expect to receive, or in the past 4 years have received, any of the following from any commercial organisation that may gain financially from your submission: a salary, fees, funding, reimbursements.</li> <li class=standard-padding>You expect to receive, or in the past 4 years have received, shared grant support or other funding with any of the authors.</li> <li class=standard-padding>You hold, or are currently applying for, any patents or significant stocks/shares relating to the subject matter of the paper you are commenting on.</li> </ol> </div> <div class="f1r-article-mobile research-layout"> <span class=modal-window-close-button></span> </div> </div> </div> <div class="o-modal c-email-alert-popup js-email-alert-popup is-hidden"> <div class="o-modal__body js-modal-body c-email-alert-popup__inner"> <h3 class=c-email-alert-popup__title>Stay Updated</h3> <p class=c-email-alert-popup__sub>Sign up for content alerts and receive a weekly or monthly email with all newly published articles</p> <p><a href="/register?originalPath=" class="c-email-alert-popup__lnk c-email-alert-popup__button js-email-alert-popup-action">Register with F1000Research</a></p> <p>Already registered? <a href="/login?originalPath=" class="c-email-alert-popup__lnk js-email-alert-popup-action">Sign in</a></p> <p class=c-email-alert-popup__footer><a class="c-email-alert-popup__lnk js-email-alert-popup-cancel" href="#">Not now, thanks</a></p> </div> </div> <div id=addCommentModal role=dialog aria-labelledby=addCommentModal_title aria-describedby=addCommentModal_description> <div class="c-modal js-modal is-closed p-article__add-comment-modal c-modal--xlarge js-article-comment-modal c-modal--scroll "> <aside class="c-modal__content u-black--high o-box u-pb--0 u-bg--2 c-modal--scroll-always "> <div class=c-modal__close> <button type=button class="c-button c-button--icon c-button--medium c-button--full@hover js-modal__close"><i class="c-button--icon__icon material-icons">close</i></button> </div> <div id=addCommentModal_description class="c-modal__description js-modal__content t-h4 u-mt--0 u-mb--2 u-black--medium"> <div class="js-add-comment-container t-caption u-black--high"> <div class=u-weight--bd>PLEASE NOTE</div> <div class=u-mt--1> <span class="red u-weight--bd">If you are an AUTHOR of this article,</span> please check that you signed in with the account associated with this article otherwise we cannot automatically identify your role as an author and your comment will be labelled as a &ldquo;User Comment&rdquo;. </div> <div class=u-mt--1> <span class="red u-weight--bd">If you are a REVIEWER of this article,</span> please check that you have signed in with the account associated with this article and then go to your <a href="/my/referee">account</a> to submit your report, please do not post your review here. </div> <div class="u-mt--1 u-mb--1"> If you do not have access to your original account, please <a href="mailto:research@f1000.com">contact us</a>. </div> <p class=no-top-margin>All commenters must hold a formal affiliation as per our <a href="/about/policies#commentspolicy" target=_blank>Policies</a>. The information that you give us will be displayed next to your comment.</p> <p>User comments must be in English, comprehensible and relevant to the article under discussion. We reserve the right to remove any comments that we consider to be inappropriate, offensive or otherwise in breach of the <a href="/about/legal/usercommenttermsandconditions" target=_blank>User Comment Terms and Conditions</a>. Commenters must not use a comment for personal attacks. When criticisms of the article are based on unpublished data, the data should be made available.</p> <div class="comments-note margin-bottom" id=accept-user-comments> <input class=js-add-comment-accept-terms type=checkbox id=acceptedTermsAndConditions name=acceptedTermsAndConditions> I accept the <a href="/about/legal/usercommenttermsandconditions" target=_blank> User Comment Terms and Conditions</a> <span class=required>&nbsp;</span> </div> <div class="default-error margin-top is-hidden comment-accept-conditions utac">Please confirm that you accept the User Comment Terms and Conditions.</div> <div class="research-layout registration-form u-mb--2"> <div class="u-mb--1 u-mt--2"> <strong>Affiliation</strong> </div> <div class=form-field> <input type=text name=institution class="form-input-field check-xss js-add-comment-institution" placeholder="Organization *" autocomplete=off /> <div class="default-error margin-top is-hidden comment-enter-institution institution">Please enter your organisation.</div> </div> <div class=form-field> <input type=text name=place class="form-input-field check-xss js-add-comment-place" placeholder=Place> </div> <div class=form-field> <div class="form-input-wrapper hundred-percent-wide"> <div class="new-select-standard-wrapper half-width inline-display heading10"> <select name=countryId id=country class="form-select-menu smaller js-add-comment-country"> <option value=-1>Country*</option> <option value=840>USA</option> <option value=826>UK</option> <option value=124>Canada</option> <option value=156>China</option> <option value=250>France</option> <option value=276>Germany</option> <optgroup label=-----------------------------------------------></optgroup> <option value=4>Afghanistan</option> <option value=248>Aland Islands</option> <option value=8>Albania</option> <option value=12>Algeria</option> <option value=16>American Samoa</option> <option value=20>Andorra</option> <option value=24>Angola</option> <option value=660>Anguilla</option> <option value=10>Antarctica</option> <option value=28>Antigua and Barbuda</option> <option value=32>Argentina</option> <option value=51>Armenia</option> <option value=533>Aruba</option> <option value=36>Australia</option> <option value=40>Austria</option> <option value=31>Azerbaijan</option> <option value=44>Bahamas</option> <option value=48>Bahrain</option> <option value=50>Bangladesh</option> <option value=52>Barbados</option> <option value=112>Belarus</option> <option value=56>Belgium</option> <option value=84>Belize</option> <option value=204>Benin</option> <option value=60>Bermuda</option> <option value=64>Bhutan</option> <option value=68>Bolivia</option> <option value=70>Bosnia and Herzegovina</option> <option value=72>Botswana</option> <option value=74>Bouvet Island</option> <option value=76>Brazil</option> <option value=86>British Indian Ocean Territory</option> <option value=92>British Virgin Islands</option> <option value=96>Brunei</option> <option value=100>Bulgaria</option> <option value=854>Burkina Faso</option> <option value=108>Burundi</option> <option value=116>Cambodia</option> <option value=120>Cameroon</option> <option value=124>Canada</option> <option value=132>Cape Verde</option> <option value=136>Cayman Islands</option> <option value=140>Central African Republic</option> <option value=148>Chad</option> <option value=152>Chile</option> <option value=156>China</option> <option value=162>Christmas Island</option> <option value=166>Cocos (Keeling) Islands</option> <option value=170>Colombia</option> <option value=174>Comoros</option> <option value=178>Congo</option> <option value=184>Cook Islands</option> <option value=188>Costa Rica</option> <option value=384>Cote d'Ivoire</option> <option value=191>Croatia</option> <option value=192>Cuba</option> <option value=196>Cyprus</option> <option value=203>Czech Republic</option> <option value=180>Democratic Republic of the Congo</option> <option value=208>Denmark</option> <option value=262>Djibouti</option> <option value=212>Dominica</option> <option value=214>Dominican Republic</option> <option value=218>Ecuador</option> <option value=818>Egypt</option> <option value=222>El Salvador</option> <option value=226>Equatorial Guinea</option> <option value=232>Eritrea</option> <option value=233>Estonia</option> <option value=231>Ethiopia</option> <option value=238>Falkland Islands</option> <option value=234>Faroe Islands</option> <option value=583>Federated States of Micronesia</option> <option value=242>Fiji</option> <option value=246>Finland</option> <option value=250>France</option> <option value=254>French Guiana</option> <option value=258>French Polynesia</option> <option value=260>French Southern Territories</option> <option value=266>Gabon</option> <option value=268>Georgia</option> <option value=276>Germany</option> <option value=288>Ghana</option> <option value=292>Gibraltar</option> <option value=300>Greece</option> <option value=304>Greenland</option> <option value=308>Grenada</option> <option value=312>Guadeloupe</option> <option value=316>Guam</option> <option value=320>Guatemala</option> <option value=831>Guernsey</option> <option value=324>Guinea</option> <option value=624>Guinea-Bissau</option> <option value=328>Guyana</option> <option value=332>Haiti</option> <option value=334>Heard Island and Mcdonald Islands</option> <option value=336>Holy See (Vatican City State)</option> <option value=340>Honduras</option> <option value=344>Hong Kong</option> <option value=348>Hungary</option> <option value=352>Iceland</option> <option value=356>India</option> <option value=360>Indonesia</option> <option value=364>Iran</option> <option value=368>Iraq</option> <option value=372>Ireland</option> <option value=376>Israel</option> <option value=380>Italy</option> <option value=388>Jamaica</option> <option value=392>Japan</option> <option value=832>Jersey</option> <option value=400>Jordan</option> <option value=398>Kazakhstan</option> <option value=404>Kenya</option> <option value=296>Kiribati</option> <option value=901>Kosovo (Serbia and Montenegro)</option> <option value=414>Kuwait</option> <option value=417>Kyrgyzstan</option> <option value=418>Lao People's Democratic Republic</option> <option value=428>Latvia</option> <option value=422>Lebanon</option> <option value=426>Lesotho</option> <option value=430>Liberia</option> <option value=434>Libya</option> <option value=438>Liechtenstein</option> <option value=440>Lithuania</option> <option value=442>Luxembourg</option> <option value=446>Macao</option> <option value=807>Macedonia</option> <option value=450>Madagascar</option> <option value=454>Malawi</option> <option value=458>Malaysia</option> <option value=462>Maldives</option> <option value=466>Mali</option> <option value=470>Malta</option> <option value=584>Marshall Islands</option> <option value=474>Martinique</option> <option value=478>Mauritania</option> <option value=480>Mauritius</option> <option value=175>Mayotte</option> <option value=484>Mexico</option> <option value=581>Minor Outlying Islands of the United States</option> <option value=498>Moldova</option> <option value=492>Monaco</option> <option value=496>Mongolia</option> <option value=499>Montenegro</option> <option value=500>Montserrat</option> <option value=504>Morocco</option> <option value=508>Mozambique</option> <option value=104>Myanmar</option> <option value=516>Namibia</option> <option value=520>Nauru</option> <option value=524>Nepal</option> <option value=530>Netherlands Antilles</option> <option value=540>New Caledonia</option> <option value=554>New Zealand</option> <option value=558>Nicaragua</option> <option value=562>Niger</option> <option value=566>Nigeria</option> <option value=570>Niue</option> <option value=574>Norfolk Island</option> <option value=580>Northern Mariana Islands</option> <option value=408>North Korea</option> <option value=578>Norway</option> <option value=512>Oman</option> <option value=586>Pakistan</option> <option value=585>Palau</option> <option value=275>Palestinian Territory</option> <option value=591>Panama</option> <option value=598>Papua New Guinea</option> <option value=600>Paraguay</option> <option value=604>Peru</option> <option value=608>Philippines</option> <option value=612>Pitcairn</option> <option value=616>Poland</option> <option value=620>Portugal</option> <option value=630>Puerto Rico</option> <option value=634>Qatar</option> <option value=638>Reunion</option> <option value=642>Romania</option> <option value=643>Russian Federation</option> <option value=646>Rwanda</option> <option value=654>Saint Helena</option> <option value=659>Saint Kitts and Nevis</option> <option value=662>Saint Lucia</option> <option value=666>Saint Pierre and Miquelon</option> <option value=670>Saint Vincent and the Grenadines</option> <option value=882>Samoa</option> <option value=674>San Marino</option> <option value=678>Sao Tome and Principe</option> <option value=682>Saudi Arabia</option> <option value=686>Senegal</option> <option value=688>Serbia</option> <option value=690>Seychelles</option> <option value=694>Sierra Leone</option> <option value=702>Singapore</option> <option value=703>Slovakia</option> <option value=705>Slovenia</option> <option value=90>Solomon Islands</option> <option value=706>Somalia</option> <option value=710>South Africa</option> <option value=239>South Georgia and the South Sandwich Is</option> <option value=410>South Korea</option> <option value=724>Spain</option> <option value=144>Sri Lanka</option> <option value=736>Sudan</option> <option value=740>Suriname</option> <option value=744>Svalbard and Jan Mayen</option> <option value=748>Swaziland</option> <option value=752>Sweden</option> <option value=756>Switzerland</option> <option value=760>Syria</option> <option value=158>Taiwan</option> <option value=762>Tajikistan</option> <option value=834>Tanzania</option> <option value=764>Thailand</option> <option value=270>The Gambia</option> <option value=528>The Netherlands</option> <option value=626>Timor-Leste</option> <option value=768>Togo</option> <option value=772>Tokelau</option> <option value=776>Tonga</option> <option value=780>Trinidad and Tobago</option> <option value=788>Tunisia</option> <option value=792>Turkey</option> <option value=795>Turkmenistan</option> <option value=796>Turks and Caicos Islands</option> <option value=798>Tuvalu</option> <option value=800>Uganda</option> <option value=826>UK</option> <option value=804>Ukraine</option> <option value=784>United Arab Emirates</option> <option value=850>United States Virgin Islands</option> <option value=858>Uruguay</option> <option value=840>USA</option> <option value=860>Uzbekistan</option> <option value=548>Vanuatu</option> <option value=862>Venezuela</option> <option value=704>Vietnam</option> <option value=876>Wallis and Futuna</option> <option value=905>West Bank and Gaza Strip</option> <option value=732>Western Sahara</option> <option value=887>Yemen</option> <option value=894>Zambia</option> <option value=716>Zimbabwe</option> </select> </div> </div> <div class="default-error margin-top is-hidden comment-enter-country country">Please select your country.</div> </div> </div> <textarea data-test-id=article_add-comment_comment name=new-comment class="js-add-comment-comment comment margin-bottom margin-top"></textarea> <div class="default-error margin-top comment-enter-text comment-error is-hidden ">You must enter a comment.</div> <label class="comments-note u-mt--2 u-mb--2" for=competingInterests_1> <div class="u-mb--1 u-mt--2"><strong data-test-id=article_report-add-comment_competing-interests-title>Competing Interests</strong></div> <p class="u-mb--2 u-mt--0" data-test-id=article_report-add-comment_competing-interests-description>Please disclose any <a href="#article-competing-intersts-policy" class=js-modal-competing-intersts-toggle>competing interests</a> that might be construed to influence your judgment of the article's or peer review report's validity or importance.</p> </label> <div id=article-competing-intersts-policy class=js-article-competing-interests-policy style="display: none;"> <h2 class="h2-title u-mt--0 u-pt--0">Competing Interests Policy</h2> <p> Provide sufficient details of any financial or non-financial competing interests to enable users to assess whether your comments might lead a reasonable person to question your impartiality. Consider the following examples, but note that this is not an exhaustive list: </p> <div class=heading5>Examples of 'Non-Financial Competing Interests'</div> <ol class="numbered-list no-padding"> <li class=standard-padding>Within the past 4 years, you have held joint grants, published or collaborated with any of the authors of the selected paper.</li> <li class=standard-padding>You have a close personal relationship (e.g. parent, spouse, sibling, or domestic partner) with any of the authors.</li> <li class=standard-padding>You are a close professional associate of any of the authors (e.g. scientific mentor, recent student).</li> <li class=standard-padding>You work at the same institute as any of the authors.</li> <li class=standard-padding>You hope/expect to benefit (e.g. favour or employment) as a result of your submission.</li> <li class=standard-padding>You are an Editor for the journal in which the article is published.</li> </ol> <div class="heading5 padding-top">Examples of 'Financial Competing Interests'</div> <ol class="numbered-list no-padding"> <li class=standard-padding>You expect to receive, or in the past 4 years have received, any of the following from any commercial organisation that may gain financially from your submission: a salary, fees, funding, reimbursements.</li> <li class=standard-padding>You expect to receive, or in the past 4 years have received, shared grant support or other funding with any of the authors.</li> <li class=standard-padding>You hold, or are currently applying for, any patents or significant stocks/shares relating to the subject matter of the paper you are commenting on.</li> </ol> </div> <div id=competingInterests_1 class="c-inline-editor js-inline-editor js-form_input u-bb--all u-mb--2 js-comment-competing-interests" data-name=competing-interests data-rows=3> <textarea id=competingInterests_1_input name=competing-interests placeholder="&nbsp;" required=false class="u-hide-visually js-inline-editor_input" tabindex=-1></textarea> <div class="c-inline-editor__editor js-inline-editor_editor o-box c-box o-box--tiny u-bg--11" data-target=competingInterests_1_input role=textbox required=false data-placeholder="&nbsp;" contenteditable=true></div> <span class="c-inline-editor__error js-inline-editor-message">Please state your competing interests</span> </div> <div data-test-id=article_add-comment_saved class="green-message comments is-hidden comment-is-saved">The comment has been saved.</div> <div data-test-id=article_add-comment_error class="default-error comments is-hidden comment-not-added">An error has occurred. Please try again.</div> <div class=clearfix></div> <div class=js-hook></div> </div> <div class="c-modal__extra-message js-modal__extra-message t-h4 u-black--medium"></div></div> <div class="c-modal__actions o-box__actions"> <a href="#" data-test-id=article_add-comment_cancel class="c-button c-button--full js-modal__close c-button--secondary">Cancel</a> <a href="#" data-test-id=article_add-comment_post class="c-button c-button--full js-modal__confirm c-button--primary">Post</a> </div> </aside> </div> </div> <style>
                .at-icon-wrapper {
        background-size: 100% !important;
    }
</style> <script src="/js/namespace.js"></script> <script src="/js/constants.js"></script> <script src="/js/utilities.js"></script> <script src="/js/article/alert-signup.js"></script> <script type='text/javascript'>
    var lTitle = "Optimal price-based control of heterogeneous...".replace("'", '');
    var linkedInUrl = "http://www.linkedin.com/shareArticle?url=https://f1000research.com/articles/8-1619/v1" + "&title=" + encodeURIComponent(lTitle) + "&summary=" + encodeURIComponent('Read the article by ');

    var deliciousUrl = "https://del.icio.us/post?url=https://f1000research.com/articles/8-1619/v1&title=" + encodeURIComponent(lTitle);

    var redditUrl = "http://reddit.com/submit?url=https://f1000research.com/articles/8-1619/v1" + "&title=" + encodeURIComponent(lTitle);

            linkedInUrl += encodeURIComponent('Nakabi TA and Toivanen P');
    
    var offsetTop = /chrome/i.test( navigator.userAgent ) ? 4 : -10; 
    var addthis_config = {
            ui_offset_top: offsetTop,
                                    services_compact : "facebook,twitter,www.linkedin.com,www.mendeley.com,reddit.com",
            services_expanded : "facebook,twitter,www.linkedin.com,www.mendeley.com,reddit.com",
            services_custom : [
                {
                    name: "LinkedIn",
                    url:  linkedInUrl,
                    icon:"/img/icon/at_linkedin.svg"
                },
                {
                    name: "Mendeley",
                    url:  "http://www.mendeley.com/import/?url=https://f1000research.com/articles/8-1619/v1/mendeley",
                    icon:"/img/icon/at_mendeley.svg"
                },
                {
                    name: "Reddit",
                    url:  redditUrl,
                    icon:"/img/icon/at_reddit.svg"
                },
            ]
        };


    var addthis_share = {
            url: "https://f1000research.com/articles/8-1619",
            templates : {
                twitter : "Optimal price-based control of heterogeneous thermostatically.... Nakabi TA and Toivanen P, published by " + 
               "@F1000Research"
       + ", https://f1000research.com/articles/8-1619/v1"
            }
        };

    if (typeof(addthis) != "undefined"){
        addthis.addEventListener('addthis.ready', checkCount);
        addthis.addEventListener('addthis.menu.share', checkCount);
    }

        $(".f1r-shares-twitter").attr("href", "https://twitter.com/intent/tweet?text=" + addthis_share.templates.twitter);
    $(".f1r-shares-facebook").attr("href", "https://www.facebook.com/sharer/sharer.php?u=" + addthis_share.url);
    $(".f1r-shares-linkedin").attr("href", addthis_config.services_custom[0].url);
    $(".f1r-shares-reddit").attr("href", addthis_config.services_custom[2].url);
    $(".f1r-shares-mendelay").attr("href", addthis_config.services_custom[1].url);

    function checkCount(){
        setTimeout(function(){
            $(".addthis_button_expanded").each(function(){
                var count = $(this).text();
                if (count !== "" && count != "0")
                    $(this).removeClass("is-hidden");
                else
                    $(this).addClass("is-hidden");
            });
        }, 1000);
    }
</script> <div id=citeReportModal role=dialog aria-labelledby=citeReportModal_title aria-describedby=citeReportModal_description> <div class="c-modal js-modal is-closed c-modal--large js-cite-report-modal "> <aside class="c-modal__content u-black--high o-box u-pb--0 u-black--high "> <div class=c-modal__close> <button type=button class="c-button c-button--icon c-button--medium c-button--full@hover js-modal__close"><i class="c-button--icon__icon material-icons">close</i></button> </div> <h1 id=citeReportModal_title class="c-modal__title t-h3 u-mt--0 u-mb--2 u-weight--md">How to cite this report</h1> <div id=citeReportModal_description class="c-modal__description js-modal__content t-h4 u-mt--0 u-mb--2 u-black--medium"> <div id="" class=js-report-citation-container>{{reportCitation}}</div> <div class="c-modal__extra-message js-modal__extra-message t-h4 u-black--medium"></div></div> <div class="c-modal__actions o-box__actions"> <a href="#" class="c-button c-button--full js-modal__close c-button--secondary">Cancel</a> <a href="#" title="Copy the current citation details to the clipboard." data-clipboard-target="#referee-report-citation" data-test-id=report_copy-citation_button class="c-button c-button--full js-modal__confirm c-button--primary js-clipboard c-mini-tooltip--above">Copy Citation Details</a> </div> </aside> </div> </div> <script src="/js/referee/new/referee_validators.js"></script> <script src="/js/referee/new/referee_helpers.js"></script> <script src="/js/referee/new/referee_checkbox-input.js"></script> <script src="/js/referee/new/referee_inline-editor.js"></script> <script type="text/javascript">
    $(function(){
        var gaCat = "F1000Research";
        if (gaCat === "") {
            gaCat = $("body").hasClass("wellcome-brand") ? "Wellcome Open Research" : "F1000Research";
        }
        GAHelper.track({category: gaCat, action: "Article Page: Optimal price-based control of heterogeneous thermostatically controlled loads under uncertainty using LSTM networks and genetic algorithms", label: "pageviews"});
        GAHelper.track({category: gaCat, action: "Article Type: Research Article", label: "Article Page"});
        $(".f1r-article-desk .collection-image").each(function (idx, el) {
            var whatChannel = $(el).find("a").attr("href"),
                channelName = $.trim($(el).parent().find(".collection-detail a").text()),
                gaRef = "(ID: " + whatChannel.replace("/collections/", "") + ") " + channelName;
            GAHelper.track({category: 'ChannelStats', action: "Article Page: Optimal price-based control of heterogeneous thermostatically controlled loads under uncertainty using LSTM networks and genetic algorithms", label: gaRef});
        });
    });
</script> <script>
    $(function(){R.ui.buttonDropdowns('.dropdown-for-downloads');});
    $(function(){R.ui.toolbarDropdowns('.toolbar-dropdown-for-downloads');});
</script> <script src="/js/article/track_article.js" type="text/javascript"></script> <script type="text/javascript">
    $.get("/articles/acj/20421/22445")
</script> <script type="text/javascript" src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script type="text/javascript" src="/js/app/messenger.js"></script> <script type="text/javascript" src="/js/article/article_mobiles.js"></script> <script src="/js/vendor/clipboard.min.js"></script> <script src="/js/shared_scripts/modal-dialogue.js"></script> <script src="/js/shared_scripts/clipboard.js"></script> <script src="/js/article/thesaurus-terms-display.js"></script> <script>
    new F1000.Clipboard();
    new F1000.ThesaurusTermsDisplay("articles", "article", "22445");
</script> <script>
    $(document).ready(function() {
        $( "#frame1" ).on('load', function() {
            var mydiv = $(this).contents().find("div");
            var h     = mydiv.height();
            console.log(h)
        });

        
        var tooltipLivingFigure = jQuery(".interactive-living-figure-label .icon-more-info"),
            titleLivingFigure = tooltipLivingFigure.attr("title");
        tooltipLivingFigure.simpletip({
            fixed: true,
            position: ["-115", "30"],
            baseClass: 'small-tooltip',
            content:titleLivingFigure + "<div class='tooltip-arrow'></div>"
        });
        tooltipLivingFigure.removeAttr("title");

        $("body").on("click", ".cite-living-figure", function(e) {
            e.preventDefault();
            var ref = $(this).attr("data-ref");
            $(this).closest(".living-figure-list-container").find("#" + ref).fadeIn(200);
        });
        $("body").on("click", ".close-cite-living-figure", function(e) {
            e.preventDefault();
            $(this).closest(".popup-window-wrapper").fadeOut(200);
        });

                $(document).on("mouseup", function(e) {
            var metricsContainer = $(".article-metrics-popover-wrapper");
            if (!metricsContainer.is(e.target) && metricsContainer.has(e.target).length === 0) {
                $(".article-metrics-close-button").click();
            }
        });

        var articleId = $('#articleId').val();

        if($("#main-article-count-box").attachArticleMetrics) {
            $("#main-article-count-box").attachArticleMetrics(articleId, {
                articleMetricsView: true
            });
        }
    });

    var figshareWidget = $(".new_figshare_widget");
    if (figshareWidget.length > 0) {
        window.figshare.load("f1000", function(Widget) {
            // Select a tag/tags defined in your page. In this tag we will place the widget.
            _.map(figshareWidget, function(el){
                var widget = new Widget({
                    articleId: $(el).attr("figshare_articleId")
                    //height:300 // this is the height of the viewer part. [Default: 550]
                });
                widget.initialize(); // initialize the widget
                widget.mount(el); // mount it in a tag that's on your page
                // this will save the widget on the global scope for later use from
                // your JS scripts. This line is optional.
                //window.widget = widget;
            });
        });
    }
</script>

<script>
    $(document).ready(function () {

        
        var reportIds = {
                           "53712": 0,
                           "57937": 0,
                           "54673": 0,
                           "53713": 0,
                           "57938": 0,
                           "54674": 0,
                           "53715": 0,
                           "68821": 0,
                           "58196": 0,
                           "56020": 0,
                           "53716": 0,
                           "68820": 0,
                           "58197": 0,
                           "56021": 0,
                           "68823": 0,
                           "56022": 0,
                           "68822": 0,
                           "68825": 0,
                           "68824": 0,
                           "68827": 0,
                           "68826": 0,
                           "68829": 0,
                           "64028": 0,
                           "68828": 0,
                           "64221": 0,
                           "64029": 0,
                           "60701": 0,
                           "64222": 0,
                           "60702": 0,
                           "60703": 0,
                           "60704": 0,
                           "60705": 0,
                           "57635": 0,
                           "55527": 0,
                           "55528": 0,
                           "54120": 0,
                           "55529": 0,
                           "54121": 0,
                           "55530": 0,
                           "57070": 0,
                           "57712": 0,
                           "58290": 0,
                           "58291": 0,
                           "58292": 0,
                    };

        $(".referee-response-container,.js-referee-report").each(function(index, el) {
            var reportId = $(el).attr("data-reportid"),
                reportCount = reportIds[reportId] || 0;
            $(el).find(".comments-count-container,.js-referee-report-views").html(reportCount);
        });

        var uuidInput = $("#article_uuid"),
            oldUUId = uuidInput.val(),
            newUUId = "fd647134-9794-4ec0-bd3d-3159dedfc68a";
        uuidInput.val(newUUId);

        $("a[href*='article_uuid=']").each(function(index, el) {
            var newHref = $(el).attr("href").replace(oldUUId, newUUId);
            $(el).attr("href", newHref);
        });

    });
</script>              </div>
        </div>

        
            
            <div class="o-page__footer sticky-email-wrapper">
                
                

                


<footer class="c-footer t-inverted">

    <div class="o-wrapper">
        <div class="o-layout">


                        
            <div class="o-layout__item u-mb--3">
                <div class="c-branding c-branding--research">
                    <img src="/img/research/F1000Research_white.svg" alt="F1000Research">
                </div>
            </div>


                        
            <div class="o-layout__item u-1/3@md u-mb--3">

                <span class="c-hr c-hr--thick c-hr--low u-mb--2"></span>

                <p class="t-h3 u-mt--0 u-mb--0">An innovative open access publishing platform offering rapid publication and open peer review, whilst supporting data deposition and sharing.</p>

            </div>


                        
            <div class="o-layout__item u-2/3@md">

                <span class="c-hr c-hr--thick c-hr--low u-mb--2"></span>

                <div class="o-layout">
                    <nav class="c-footer__nav">

                            <div class="o-layout__item u-3/5@sm u-mb--3">


                                <div class="o-columns o-columns--2">

                                                                            <a href="/browse/articles" class="t-body c-footer__nav-item "      >Browse</a>
                                                                            <a href="/gateways" class="t-body c-footer__nav-item "      >Gateways</a>
                                                                            <a href="/collections" class="t-body c-footer__nav-item "      >Collections</a>
                                                                            <a href="/about" class="t-body c-footer__nav-item "      >How it Works</a>
                                                                            <a href="https://blog.f1000.com/blogs/f1000research/" class="t-body c-footer__nav-item "      >Blog</a>
                                                                            <a href="/contact" class="t-body c-footer__nav-item "      >Contact</a>
                                                                            <a href="/developers" class="t-body c-footer__nav-item u-hide u-show@navbar"      >For Developers</a>
                                                                            <a href="/published/rss" class="t-body c-footer__nav-item "   title="RSS feed of published articles"     >RSS</a>
                                    
                                </div>

                            </div>

                            <div class="o-layout__item u-2/5@sm u-center u-right@sm u-mb--3">

                                <div class="u-hide u-show@lg">
                                    <div class="_mdl-layout">
                                        <a class="mdl-button mdl-js-button mdl-button--inverted mdl-button--no-shadow mdl-js-ripple-effect mdl-button--outline" href="/for-authors/publish-your-research"   data-test-id="footer_submit_research"  >Submit Your Research</a>
                                    </div>
                                </div>

                            </div>

                    </nav>
                </div>

            </div>

            <div class="o-layout__item u-mb--2">
                <div class="c-footer__share">
                        <div class="c-footer__share">
        <span class="c-footer__share-icon" title="Open Access">
            <span class="f1r-icon icon-100_open_access license-icon"></span>
        </span>

        <a class="c-footer__share-icon" href="//creativecommons.org/licenses" target="_blank" title="Creative Commons License CC-BY">
            <span class="f1r-icon icon-116_cc license-icon license-icon-cc"></span>
            <span class="f1r-icon icon-117_ccby license-icon license-icon-cc"></span>
        </a>

        <a class="c-footer__share-icon" href="//creativecommons.org/about/cc0" target="_blank" title="Creative Commons License CC0">
            <span class="f1r-icon icon-118_cco license-icon"></span>
        </a>

    </div>
                </div>
            </div>


                        
            <div class="o-layout__item u-1/3@md u-mb--3">

                <span class="c-hr c-hr--low u-mb--3"></span>

                <p class="c-footer__social u-mt--0 u-mb--0 u-white--low-med">Follow us
                    <a href="https://www.facebook.com/F1000" target="_blank" class="c-footer__social-icon f1r-icon icon-55_footer_facebook"></a>
                    <a href="https://twitter.com/#!/F1000Research" target="_blank" class="c-footer__social-icon f1r-icon icon-56_footer_twitter"></a>
                    <a href="http://www.youtube.com/user/F1000research" target="_blank" class="c-footer__social-icon f1r-icon icon-57_footer_youtube"></a></p>

            </div>


                        
            <div class="o-layout__item u-2/3@md u-right@md">

                <span class="c-hr c-hr--low u-mb--3"></span>

                <p class="t-caption u-white--low-med">&copy; 2012-2020 F1000 Research Ltd. ISSN 2046-1402 | <a href="/about/legal" class="copyrightLegal">Legal</a> | Partner of <a target="_blank" href="http://www.who.int/hinari/en/">HINARI</a>  &bull; <a target="_blank" href="http://crossref.org/">CrossRef</a> &bull; <a target="_blank" href="http://about.orcid.org/">ORCID</a> &bull; <a target="_blank" href="http://www.fairsharing.org">FAIRSharing</a></p>

            </div>
        </div>
    </div>

</footer>            </div>
        
    </div>

            <div class="js-cookie-spacer"></div>
        <div class="cookie-warning">
            <div class="instruction">The F1000Research website uses cookies. By continuing to browse the site, you are agreeing to our use of cookies. <a class="js-scroll-to" href="/about/legal/privacypolicy#use-of-cookies" data-scroll-target="#use-of-cookies">Find out more &raquo;</a></div>
            <div class="close-button"></div>
        </div>
    
    <script>
                    R.templateTests.simpleTemplate = R.template('<p class="$variable.one">$text</p><p class="${variable.two}">$text</p><p class="$!variable.three">$text</p><p class="$!{variable.four}">$text</p><p class="${selector}.five">$text</p>');
            R.templateTests.runTests();
        
        var F1000platform = new F1000.Platform({
            name: "f1000research",
            displayName: "F1000Research",
            hostName: "f1000research.com",
            id: "1",
            editorialEmail: "research@f1000.com",
            infoEmail: "info@f1000.com",
            usePmcStats: true
        });

                    $(function(){R.ui.dropdowns('.dropdown-for-authors, .dropdown-for-about, .dropdown-for-myresearch');});
            // $(function(){R.ui.dropdowns('.dropdown-for-referees');});

            $(document).ready(function () {
                if ($(".cookie-warning").is(":visible")) {
                    $(".sticky").css("margin-bottom", "35px");
                    $(".devices").addClass("devices-and-cookie-warning");
                }
                $(".cookie-warning .close-button").click(function (e) {
                    $(".devices").removeClass("devices-and-cookie-warning");
                    $(".sticky").css("margin-bottom", "0");
                });

                $("#tweeter-feed .tweet-message").each(function (i, message) {
                    var self = $(message);
                    self.html(linkify(self.html()));
                });

                $(".partner").on("mouseenter mouseleave", function() {
                    $(this).find(".gray-scale, .colour").toggleClass("is-hidden");
                });
            });
        
    </script>

            
<div class="sign-in-popup">
	<!-- <a href="#" class="sign-in shadow">Sign in <span class="sign-in-image-active"></span></a> -->
	<a href="#" class="sign-in ${locale}">Sign In <span class="arrow-closed sign-in-arrow-padding arrow-opened"></span></a>
	<div class="sign-in-form">

            <form action="https://f1000research.com/j_spring_oauth_security_check" id="googleOAuth" method="post"  target="_top" >
                                    <input class="target-field" type="hidden" name="target" value="/articles/8-1619.html"/>
                            <input id="google-remember-me" name="_spring_security_oauth_remember_me" type="hidden" value="true"/>
        <input id="system-google" name="system" type="hidden" value="GOOGLE"/>
    </form>
            <form action="https://f1000research.com/j_spring_oauth_security_check" id="facebookOAuth" method="post"  target="_top" >
                                    <input class="target-field" type="hidden" name="target" value="/articles/8-1619.html"/>
                            <input id="facebook-remember-me" name="_spring_security_oauth_remember_me" type="hidden" value="true"/>
        <input id="system-fb" name="system" type="hidden" value="FACEBOOK"/>
    </form>
            <form action="https://f1000research.com/j_spring_oauth_security_check" id="orcidOAuth" method="post"  target="_top" >
                                    <input class="target-field" type="hidden" name="target" value="/articles/8-1619.html"/>
                            <input id="orcid-remember-me" name="_spring_security_oauth_remember_me" type="hidden" value="true"/>
        <input id="system-orcid" name="system" type="hidden" value="ORCID"/>
    </form>
		<form id="sign-in-form" class="login-container" action="https://f1000research.com/login" method="post" name="f">
           <div id="sign-in-form-gfb-popup"></div>

                                                            <input class="target-field" type="hidden" name="target" value="/articles/8-1619.html"/>
                            			<input type="text" name="username" id="signin-email-box" class="sign-in-input" placeholder="Email address" autocomplete="email">
			<input type="password" name="password" id="signin-password-box" class="sign-in-input" placeholder="Password" autocomplete="current-password">
			<div class="sign-in-remember">
                <div class="checkbox-wrapper">
    				<input type="checkbox" id="remember-me" name="remember_me" class="checkbox is-hidden">
                </div>
                <span class="checkbox-label">Remember me</span>
			</div>
			<a href="#" class="sign-in-link" id="forgot-password-link">Forgotten your password?</a>
			<div class="sign-in-button-container margin-top margin-left-20 margin-bottom">
				<button type="submit" id="sign-in-button" class="sign-in-buttons general-white-orange-button">Sign In</button>
				<button type="button" id="sign-in-cancel" class="sign-in-buttons sign-in-cancel-button margin-left">Cancel</button>
				<div class="clearfix"></div>
			</div>
			<div class="sign-in-error">Email or password not correct. Please try again</div>
			<div class="sign-in-loading">Please wait...</div>
		</form>
		<div class="forgot-password-container">
			
<script type="text/javascript">
	$(function(){
		// Note: All the setup needs to run against a name attribute and *not* the id due the clonish
		// nature of facebox...
		$("a[id=googleSignInButton]").click(function(event){
            event.preventDefault();
            $("input[id=oAuthSystem]").val("GOOGLE");
            $("form[id=oAuthForm]").submit();
        });
        $("a[id=facebookSignInButton]").click(function(event){
            event.preventDefault();
            $("input[id=oAuthSystem]").val("FACEBOOK");
            $("form[id=oAuthForm]").submit();
        });
        $("a[id=orcidSignInButton]").click(function(event){
            event.preventDefault();
            $("input[id=oAuthSystem]").val("ORCID");
            $("form[id=oAuthForm]").submit();
        });
	});
</script>

<span class="text first">
	If you've forgotten your password, please enter your email address below and we'll send you instructions on how to reset your password.
    <p>The email address should be the one you originally registered with F1000.</p>
</span>
<input name="email" class="sign-in-input" id="email-forgot-password" type="text" placeholder="Email address">
<div class="forgot-password-email-error">
	Email address not valid, please try again
</div>
<div class="forgot-password-google-email-error">
    <p>You registered with F1000 via Google, so we cannot reset your password.</p>
	<p>To sign in, please click <a href="#" id="googleSignInButton">here</a>.</p>
    <p>If you still need help with your Google account password, please click <a href="https://www.google.com/accounts/recovery">here</a>.</p>
</div>
<div class="forgot-password-facebook-email-error">
    <p>You registered with F1000 via Facebook, so we cannot reset your password.</p>
    <p>To sign in, please click <a href="#" id="facebookSignInButton">here</a>.</p>
	<p>If you still need help with your Facebook account password, please click <a href="https://www.facebook.com/recover/initiate">here</a>.</p>
</div>
<div class="clearfix"></div>
<div class="forgot-password-captcha-error">
	Code not correct, please try again
</div>
<div class="clearfix"></div>
<div class="sign-in-button-container margin-left-20 margin-bottom">
	<button type="button" id="sign-in-reset-password" class="sign-in-buttons general-white-orange-button">Reset password</button>
	<button type="button" id="forgot-password-cancel" class="sign-in-buttons sign-in-cancel-button margin-left">Cancel</button>
	<div class="clearfix"></div>
</div>
<span class="text last">
	<a href="mailto:">Email us</a> for further assistance.
</span>
<form action="https://f1000research.com/j_spring_oauth_security_check" id="oAuthForm" method="post" target="_top">
                        <input class="target-field" type="hidden" name="target" value="/articles/8-1619.html"/>
                <input id="oAuthSystem" name="system" type="hidden"/>
</form>
			<div class="forgot-password-server-error">Server error, please try again.</div>
			<div class="sign-in-success">
                <p>We have sent an email to <span id="email-value"></span>, please follow the instructions to reset your password.</p>
                <p>If you don't receive this email, please check your spam filters and/or contact .</p>
            </div>
			<div class="sign-in-loading">Please wait...</div>
		</div>

		<div class="sign-in-form-register-section">
			<div class="sign-in-button-container margin-left-20 margin-bottom">
				<a href="/register" title="Register"><button type="button" id="sign-in-register-button" class="sign-in-buttons general-white-orange-button">Register</button></a>
				<div class="clearfix"></div>
			</div>
		</div>

	</div>
</div>

<script type="text/javascript">
$(document).ready(function () {

    signIn.createSignInAsRow($("#sign-in-form-gfb-popup"));

    $(".target-field").each(function () {
        var uris = $(this).val().split("/");
        if (uris.pop() === "login") {
        	$(this).val(uris.toString().replace(",","/"));
        }
    });
});
</script>
        <div id="templateOverlay" class="is-hidden" hidden="hidden">
  <div class="o-overlay js-overlay is-hidden" hidden="hidden"></div>
</div>

<div id="templateExternalMessages" class="is-hidden" hidden="hidden">
  <div class="o-modal o-modal--auto@md js-external-messages is-hidden" hidden="hidden">
    <div class="o-modal__body">
      <section class="c-console">
        <div class="_mdl-layout c-console__bdy js-external-messages-body"></div>
        <footer class="_mdl-layout c-console__ftr o-flex o-flex--reverse js-external-messages-footer">
          <button type="button" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored c-console__btn js-external-messages-close" data-action="maintenance-close">I Understand</button>
        </footer>
      </section>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.1/moment.min.js"></script>

<script src="/js/namespace.js"></script>
<script src="/js/constants.js"></script>
<script src="/js/utilities.js"></script>

<script>
                  F1000.ExtenalMaintenanceItems = [
    {
      start: '2018-12-10T14:21:00Z',
      end: '2018-12-13T16:00:00Z',
      msg: 'This site will be down for a short time on XX December. It is advisable not to start any submissions on that day or you may lose your work unless you save regularly.',
      cookieName: 'outage23122018',
      editor: false,
    }
  ];
</script>

<script src="/js/shared_scripts/cookie-helper.js"></script>
<script src="/js/shared_scripts/mdl-helper.js"></script>

<script src="/js/app/external-maintenance.js"></script>

                <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-5646075-11', 'auto');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
        
                <script type="text/javascript" src="/js/app/research.analytics.js"></script>

        <!-- Start of HubSpot Embed Code -->
        <script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/4475190.js"></script>
        <!-- End of HubSpot Embed Code -->
    
            <script src="https://my.hellobar.com/4e0495c6f18cbd68731a1dc1978195a144e767ba.js" type="text/javascript" charset="utf-8" async="async"></script>
    </body>

</html>