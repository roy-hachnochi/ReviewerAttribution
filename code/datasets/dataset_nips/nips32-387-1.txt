Major concerns:  The data described from the paper are with labeling (response y_m) for each action m \in M. Therefore it seems to me the counterfactual effects can also be predicted by just using the regression based method (either parametric or nonparametric). The KNN method is more of an unsupervised method to do a re-weighting, than a nonparametric component in the model. I am not fully convinced of the benefits of using KNN. On the other hand, I see potential problems: for example, this method could be sensitive to the choice of number of neighbors K; it treats all the neighbors with the same weight in the final response prediction.    